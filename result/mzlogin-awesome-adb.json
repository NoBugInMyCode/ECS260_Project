{
    "https://api.github.com/repos/mzlogin/awesome-adb": {
        "forks": 2237,
        "watchers": 11505,
        "stars": 11505,
        "languages": {},
        "commits": [
            "2024-12-18T09:31:06Z",
            "2024-07-30T01:37:43Z",
            "2024-07-30T01:26:46Z",
            "2024-04-07T02:04:24Z",
            "2023-09-04T02:23:55Z",
            "2022-01-17T08:57:18Z",
            "2021-12-04T06:48:56Z",
            "2021-07-23T03:49:22Z",
            "2021-07-23T03:46:04Z",
            "2021-03-02T07:50:07Z",
            "2021-01-19T09:57:50Z",
            "2020-08-17T09:29:22Z",
            "2020-08-17T09:20:13Z",
            "2020-05-05T07:44:56Z",
            "2019-08-19T12:24:32Z",
            "2019-08-11T14:29:51Z",
            "2019-08-11T14:20:18Z",
            "2018-12-19T12:17:55Z",
            "2018-06-20T00:40:19Z",
            "2018-05-22T01:03:33Z",
            "2018-03-20T08:53:17Z",
            "2018-02-01T14:06:27Z",
            "2018-02-01T12:48:49Z",
            "2018-02-01T12:38:46Z",
            "2017-12-19T07:35:03Z",
            "2017-12-19T07:30:09Z",
            "2017-11-08T03:40:34Z",
            "2017-10-23T07:58:49Z",
            "2017-10-23T07:43:27Z",
            "2017-08-30T05:50:19Z"
        ],
        "creation_date": "2016-07-19T04:12:48Z",
        "contributors": 10,
        "topics": [
            "android",
            "android-adb",
            "android-debug-bridge"
        ],
        "subscribers": 297,
        "readme": "# ![Awesome Adb](./assets/title.png)\n\nADB\uff0c\u5373 [Android Debug Bridge](https://developer.android.com/studio/command-line/adb.html)\uff0c\u5b83\u662f Android \u5f00\u53d1/\u6d4b\u8bd5\u4eba\u5458\u4e0d\u53ef\u66ff\u4ee3\u7684\u5f3a\u5927\u5de5\u5177\uff0c\u4e5f\u662f Android \u8bbe\u5907\u73a9\u5bb6\u7684\u597d\u73a9\u5177\u3002\n\n\u6301\u7eed\u66f4\u65b0\u4e2d\uff0c\u6b22\u8fce\u63d0 PR \u548c Issue \u8865\u5145\u6307\u6b63\uff0c\u89c9\u5f97\u6709\u7528\u7684\u53ef\u4ee5\u5c06 [\u6b64 GitHub \u4ed3\u5e93](https://github.com/mzlogin/awesome-adb) Star \u6536\u85cf\u5907\u7528\u3002\n\n\u7ed9\u672c\u9879\u76ee\u63d0\u5efa\u8bae\u548c\u610f\u89c1\uff0c\u6216\u60f3\u4e0e\u6211\u4ea4\u6d41\uff0c\u53ef\u5173\u6ce8\u5fae\u4fe1\u516c\u4f17\u53f7\u300c\u95f7\u9a9a\u7684\u7a0b\u5e8f\u5458\u300d\uff1a\n\n<img src=\"https://cdn.jsdelivr.net/gh/mzlogin/mzlogin.github.io/assets/images/qrcode.jpg\" style=\"width:120px;height:120px;\" >\n\n**\u6ce8\uff1a** \u6587\u4e2d\u6709\u90e8\u5206\u547d\u4ee4\u7684\u652f\u6301\u60c5\u51b5\u53ef\u80fd\u4e0e Android \u7cfb\u7edf\u7248\u672c\u53ca\u5b9a\u5236 ROM \u7684\u5b9e\u73b0\u6709\u5173\u3002\n\nOther languages: [:gb: English](./README.en.md)\n\n# ![Table of Contents](./assets/toc.png)\n\n<!-- vim-markdown-toc GFM -->\n\n* [\u57fa\u672c\u7528\u6cd5](#\u57fa\u672c\u7528\u6cd5)\n    * [\u547d\u4ee4\u8bed\u6cd5](#\u547d\u4ee4\u8bed\u6cd5)\n    * [\u4e3a\u547d\u4ee4\u6307\u5b9a\u76ee\u6807\u8bbe\u5907](#\u4e3a\u547d\u4ee4\u6307\u5b9a\u76ee\u6807\u8bbe\u5907)\n    * [\u542f\u52a8/\u505c\u6b62](#\u542f\u52a8\u505c\u6b62)\n    * [\u67e5\u770b adb \u7248\u672c](#\u67e5\u770b-adb-\u7248\u672c)\n    * [\u4ee5 root \u6743\u9650\u8fd0\u884c adbd](#\u4ee5-root-\u6743\u9650\u8fd0\u884c-adbd)\n    * [\u6307\u5b9a adb server \u7684\u7f51\u7edc\u7aef\u53e3](#\u6307\u5b9a-adb-server-\u7684\u7f51\u7edc\u7aef\u53e3)\n* [\u8bbe\u5907\u8fde\u63a5\u7ba1\u7406](#\u8bbe\u5907\u8fde\u63a5\u7ba1\u7406)\n    * [\u67e5\u8be2\u5df2\u8fde\u63a5\u8bbe\u5907/\u6a21\u62df\u5668](#\u67e5\u8be2\u5df2\u8fde\u63a5\u8bbe\u5907\u6a21\u62df\u5668)\n    * [USB \u8fde\u63a5](#usb-\u8fde\u63a5)\n    * [\u65e0\u7ebf\u8fde\u63a5\uff08Android11 \u53ca\u4ee5\u4e0a\uff09](#\u65e0\u7ebf\u8fde\u63a5android11-\u53ca\u4ee5\u4e0a)\n    * [\u65e0\u7ebf\u8fde\u63a5\uff08\u9700\u8981\u501f\u52a9 USB \u7ebf\uff09](#\u65e0\u7ebf\u8fde\u63a5\u9700\u8981\u501f\u52a9-usb-\u7ebf)\n    * [\u65e0\u7ebf\u8fde\u63a5\uff08\u65e0\u9700\u501f\u52a9 USB \u7ebf\uff09](#\u65e0\u7ebf\u8fde\u63a5\u65e0\u9700\u501f\u52a9-usb-\u7ebf)\n* [\u5e94\u7528\u7ba1\u7406](#\u5e94\u7528\u7ba1\u7406)\n    * [\u67e5\u770b\u5e94\u7528\u5217\u8868](#\u67e5\u770b\u5e94\u7528\u5217\u8868)\n        * [\u6240\u6709\u5e94\u7528](#\u6240\u6709\u5e94\u7528)\n        * [\u7cfb\u7edf\u5e94\u7528](#\u7cfb\u7edf\u5e94\u7528)\n        * [\u7b2c\u4e09\u65b9\u5e94\u7528](#\u7b2c\u4e09\u65b9\u5e94\u7528)\n        * [\u5305\u540d\u5305\u542b\u67d0\u5b57\u7b26\u4e32\u7684\u5e94\u7528](#\u5305\u540d\u5305\u542b\u67d0\u5b57\u7b26\u4e32\u7684\u5e94\u7528)\n    * [\u5b89\u88c5 APK](#\u5b89\u88c5-apk)\n    * [\u5378\u8f7d\u5e94\u7528](#\u5378\u8f7d\u5e94\u7528)\n    * [\u505c\u7528/\u542f\u7528\u5e94\u7528](#\u505c\u7528\u542f\u7528\u5e94\u7528)\n        * [\u505c\u7528\u5e94\u7528](#\u505c\u7528\u5e94\u7528)\n        * [\u542f\u7528\u5e94\u7528](#\u542f\u7528\u5e94\u7528)\n    * [\u6e05\u9664\u5e94\u7528\u6570\u636e\u4e0e\u7f13\u5b58](#\u6e05\u9664\u5e94\u7528\u6570\u636e\u4e0e\u7f13\u5b58)\n    * [\u67e5\u770b\u524d\u53f0 Activity](#\u67e5\u770b\u524d\u53f0-activity)\n    * [\u67e5\u770b\u6b63\u5728\u8fd0\u884c\u7684 Services](#\u67e5\u770b\u6b63\u5728\u8fd0\u884c\u7684-services)\n    * [\u67e5\u770b\u5e94\u7528\u8be6\u7ec6\u4fe1\u606f](#\u67e5\u770b\u5e94\u7528\u8be6\u7ec6\u4fe1\u606f)\n    * [\u67e5\u770b\u5e94\u7528\u5b89\u88c5\u8def\u5f84](#\u67e5\u770b\u5e94\u7528\u5b89\u88c5\u8def\u5f84)\n* [\u4e0e\u5e94\u7528\u4ea4\u4e92](#\u4e0e\u5e94\u7528\u4ea4\u4e92)\n    * [\u542f\u52a8\u5e94\u7528/ \u8c03\u8d77 Activity](#\u542f\u52a8\u5e94\u7528-\u8c03\u8d77-activity)\n    * [\u8c03\u8d77 Service](#\u8c03\u8d77-service)\n    * [\u505c\u6b62 Service](#\u505c\u6b62-service)\n    * [\u53d1\u9001\u5e7f\u64ad](#\u53d1\u9001\u5e7f\u64ad)\n    * [\u5f3a\u5236\u505c\u6b62\u5e94\u7528](#\u5f3a\u5236\u505c\u6b62\u5e94\u7528)\n    * [\u6536\u7d27\u5185\u5b58](#\u6536\u7d27\u5185\u5b58)\n* [\u6587\u4ef6\u7ba1\u7406](#\u6587\u4ef6\u7ba1\u7406)\n    * [\u590d\u5236\u8bbe\u5907\u91cc\u7684\u6587\u4ef6\u5230\u7535\u8111](#\u590d\u5236\u8bbe\u5907\u91cc\u7684\u6587\u4ef6\u5230\u7535\u8111)\n    * [\u590d\u5236\u7535\u8111\u91cc\u7684\u6587\u4ef6\u5230\u8bbe\u5907](#\u590d\u5236\u7535\u8111\u91cc\u7684\u6587\u4ef6\u5230\u8bbe\u5907)\n* [\u6a21\u62df\u6309\u952e/\u8f93\u5165](#\u6a21\u62df\u6309\u952e\u8f93\u5165)\n    * [\u7535\u6e90\u952e](#\u7535\u6e90\u952e)\n    * [\u83dc\u5355\u952e](#\u83dc\u5355\u952e)\n    * [HOME \u952e](#home-\u952e)\n    * [\u8fd4\u56de\u952e](#\u8fd4\u56de\u952e)\n    * [\u97f3\u91cf\u63a7\u5236](#\u97f3\u91cf\u63a7\u5236)\n    * [\u5a92\u4f53\u63a7\u5236](#\u5a92\u4f53\u63a7\u5236)\n    * [\u70b9\u4eae/\u7184\u706d\u5c4f\u5e55](#\u70b9\u4eae\u7184\u706d\u5c4f\u5e55)\n    * [\u6ed1\u52a8\u89e3\u9501](#\u6ed1\u52a8\u89e3\u9501)\n    * [\u8f93\u5165\u6587\u672c](#\u8f93\u5165\u6587\u672c)\n* [\u67e5\u770b\u65e5\u5fd7](#\u67e5\u770b\u65e5\u5fd7)\n    * [Android \u65e5\u5fd7](#android-\u65e5\u5fd7)\n        * [\u6309\u7ea7\u522b\u8fc7\u6ee4\u65e5\u5fd7](#\u6309\u7ea7\u522b\u8fc7\u6ee4\u65e5\u5fd7)\n        * [\u6309 tag \u548c\u7ea7\u522b\u8fc7\u6ee4\u65e5\u5fd7](#\u6309-tag-\u548c\u7ea7\u522b\u8fc7\u6ee4\u65e5\u5fd7)\n        * [\u65e5\u5fd7\u683c\u5f0f](#\u65e5\u5fd7\u683c\u5f0f)\n        * [\u6e05\u7a7a\u65e5\u5fd7](#\u6e05\u7a7a\u65e5\u5fd7)\n    * [\u5185\u6838\u65e5\u5fd7](#\u5185\u6838\u65e5\u5fd7)\n* [\u67e5\u770b\u8bbe\u5907\u4fe1\u606f](#\u67e5\u770b\u8bbe\u5907\u4fe1\u606f)\n    * [\u578b\u53f7](#\u578b\u53f7)\n    * [\u7535\u6c60\u72b6\u51b5](#\u7535\u6c60\u72b6\u51b5)\n    * [\u5c4f\u5e55\u5206\u8fa8\u7387](#\u5c4f\u5e55\u5206\u8fa8\u7387)\n    * [\u5c4f\u5e55\u5bc6\u5ea6](#\u5c4f\u5e55\u5bc6\u5ea6)\n    * [\u663e\u793a\u5c4f\u53c2\u6570](#\u663e\u793a\u5c4f\u53c2\u6570)\n    * [android\\_id](#android_id)\n    * [IMEI](#imei)\n    * [Android \u7cfb\u7edf\u7248\u672c](#android-\u7cfb\u7edf\u7248\u672c)\n    * [IP \u5730\u5740](#ip-\u5730\u5740)\n    * [Mac \u5730\u5740](#mac-\u5730\u5740)\n    * [CPU \u4fe1\u606f](#cpu-\u4fe1\u606f)\n    * [\u5185\u5b58\u4fe1\u606f](#\u5185\u5b58\u4fe1\u606f)\n    * [\u66f4\u591a\u786c\u4ef6\u4e0e\u7cfb\u7edf\u5c5e\u6027](#\u66f4\u591a\u786c\u4ef6\u4e0e\u7cfb\u7edf\u5c5e\u6027)\n* [\u4fee\u6539\u8bbe\u7f6e](#\u4fee\u6539\u8bbe\u7f6e)\n    * [\u5206\u8fa8\u7387](#\u5206\u8fa8\u7387)\n    * [\u5c4f\u5e55\u5bc6\u5ea6](#\u5c4f\u5e55\u5bc6\u5ea6-1)\n    * [\u663e\u793a\u533a\u57df](#\u663e\u793a\u533a\u57df)\n    * [\u5173\u95ed USB \u8c03\u8bd5\u6a21\u5f0f](#\u5173\u95ed-usb-\u8c03\u8bd5\u6a21\u5f0f)\n    * [\u5141\u8bb8/\u7981\u6b62\u8bbf\u95ee\u975e SDK API](#\u5141\u8bb8\u7981\u6b62\u8bbf\u95ee\u975e-sdk-api)\n    * [\u72b6\u6001\u680f\u548c\u5bfc\u822a\u680f\u7684\u663e\u793a\u9690\u85cf](#\u72b6\u6001\u680f\u548c\u5bfc\u822a\u680f\u7684\u663e\u793a\u9690\u85cf)\n* [\u5b9e\u7528\u529f\u80fd](#\u5b9e\u7528\u529f\u80fd)\n    * [\u5c4f\u5e55\u622a\u56fe](#\u5c4f\u5e55\u622a\u56fe)\n    * [\u5f55\u5236\u5c4f\u5e55](#\u5f55\u5236\u5c4f\u5e55)\n    * [\u91cd\u65b0\u6302\u8f7d system \u5206\u533a\u4e3a\u53ef\u5199](#\u91cd\u65b0\u6302\u8f7d-system-\u5206\u533a\u4e3a\u53ef\u5199)\n    * [\u67e5\u770b\u8fde\u63a5\u8fc7\u7684 WiFi \u5bc6\u7801](#\u67e5\u770b\u8fde\u63a5\u8fc7\u7684-wifi-\u5bc6\u7801)\n    * [\u8bbe\u7f6e\u7cfb\u7edf\u65e5\u671f\u548c\u65f6\u95f4](#\u8bbe\u7f6e\u7cfb\u7edf\u65e5\u671f\u548c\u65f6\u95f4)\n    * [\u91cd\u542f\u624b\u673a](#\u91cd\u542f\u624b\u673a)\n    * [\u68c0\u6d4b\u8bbe\u5907\u662f\u5426\u5df2 root](#\u68c0\u6d4b\u8bbe\u5907\u662f\u5426\u5df2-root)\n    * [\u4f7f\u7528 Monkey \u8fdb\u884c\u538b\u529b\u6d4b\u8bd5](#\u4f7f\u7528-monkey-\u8fdb\u884c\u538b\u529b\u6d4b\u8bd5)\n    * [\u5f00\u542f/\u5173\u95ed WiFi](#\u5f00\u542f\u5173\u95ed-wifi)\n* [\u5237\u673a\u76f8\u5173\u547d\u4ee4](#\u5237\u673a\u76f8\u5173\u547d\u4ee4)\n    * [\u91cd\u542f\u5230 Recovery \u6a21\u5f0f](#\u91cd\u542f\u5230-recovery-\u6a21\u5f0f)\n    * [\u4ece Recovery \u91cd\u542f\u5230 Android](#\u4ece-recovery-\u91cd\u542f\u5230-android)\n    * [\u91cd\u542f\u5230 Fastboot \u6a21\u5f0f](#\u91cd\u542f\u5230-fastboot-\u6a21\u5f0f)\n    * [\u901a\u8fc7 sideload \u66f4\u65b0\u7cfb\u7edf](#\u901a\u8fc7-sideload-\u66f4\u65b0\u7cfb\u7edf)\n* [\u5b89\u5168\u76f8\u5173\u547d\u4ee4](#\u5b89\u5168\u76f8\u5173\u547d\u4ee4)\n    * [\u542f\u7528/\u7981\u7528 SELinux](#\u542f\u7528\u7981\u7528-selinux)\n    * [\u542f\u7528/\u7981\u7528 dm_verity](#\u542f\u7528\u7981\u7528-dm_verity)\n* [\u66f4\u591a adb shell \u547d\u4ee4](#\u66f4\u591a-adb-shell-\u547d\u4ee4)\n    * [\u67e5\u770b\u8fdb\u7a0b](#\u67e5\u770b\u8fdb\u7a0b)\n    * [\u67e5\u770b\u5b9e\u65f6\u8d44\u6e90\u5360\u7528\u60c5\u51b5](#\u67e5\u770b\u5b9e\u65f6\u8d44\u6e90\u5360\u7528\u60c5\u51b5)\n    * [\u67e5\u770b\u8fdb\u7a0b UID](#\u67e5\u770b\u8fdb\u7a0b-uid)\n    * [\u5176\u5b83](#\u5176\u5b83)\n* [\u5e38\u89c1\u95ee\u9898](#\u5e38\u89c1\u95ee\u9898)\n    * [\u542f\u52a8 adb server \u5931\u8d25](#\u542f\u52a8-adb-server-\u5931\u8d25)\n    * [com.android.ddmlib.AdbCommandRejectedException](#comandroidddmlibadbcommandrejectedexception)\n* [adb \u7684\u975e\u5b98\u65b9\u5b9e\u73b0](#adb-\u7684\u975e\u5b98\u65b9\u5b9e\u73b0)\n* [\u76f8\u5173\u547d\u4ee4](#\u76f8\u5173\u547d\u4ee4)\n* [\u81f4\u8c22](#\u81f4\u8c22)\n* [\u53c2\u8003\u94fe\u63a5](#\u53c2\u8003\u94fe\u63a5)\n\n<!-- vim-markdown-toc -->\n\n## \u57fa\u672c\u7528\u6cd5\n\n### \u547d\u4ee4\u8bed\u6cd5\n\nadb \u547d\u4ee4\u7684\u57fa\u672c\u8bed\u6cd5\u5982\u4e0b\uff1a\n\n```sh\nadb [-d|-e|-s <serialNumber>] <command>\n```\n\n\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u8bbe\u5907/\u6a21\u62df\u5668\u8fde\u63a5\u65f6\uff0c\u53ef\u4ee5\u7701\u7565\u6389 `[-d|-e|-s <serialNumber>]` \u8fd9\u4e00\u90e8\u5206\uff0c\u76f4\u63a5\u4f7f\u7528 `adb <command>`\u3002\n\n### \u4e3a\u547d\u4ee4\u6307\u5b9a\u76ee\u6807\u8bbe\u5907\n\n\u5982\u679c\u6709\u591a\u4e2a\u8bbe\u5907/\u6a21\u62df\u5668\u8fde\u63a5\uff0c\u5219\u9700\u8981\u4e3a\u547d\u4ee4\u6307\u5b9a\u76ee\u6807\u8bbe\u5907\u3002\n\n| \u53c2\u6570                | \u542b\u4e49                                               |\n|---------------------|----------------------------------------------------|\n| -d                  | \u6307\u5b9a\u5f53\u524d\u552f\u4e00\u901a\u8fc7 USB \u8fde\u63a5\u7684 Android \u8bbe\u5907\u4e3a\u547d\u4ee4\u76ee\u6807 |\n| -e                  | \u6307\u5b9a\u5f53\u524d\u552f\u4e00\u8fd0\u884c\u7684\u6a21\u62df\u5668\u4e3a\u547d\u4ee4\u76ee\u6807                 |\n| `-s <serialNumber>` | \u6307\u5b9a\u76f8\u5e94 serialNumber \u53f7\u7684\u8bbe\u5907/\u6a21\u62df\u5668\u4e3a\u547d\u4ee4\u76ee\u6807    |\n\n\u5728\u591a\u4e2a\u8bbe\u5907/\u6a21\u62df\u5668\u8fde\u63a5\u7684\u60c5\u51b5\u4e0b\u8f83\u5e38\u7528\u7684\u662f `-s <serialNumber>` \u53c2\u6570\uff0cserialNumber \u53ef\u4ee5\u901a\u8fc7 `adb devices` \u547d\u4ee4\u83b7\u53d6\u3002\u5982\uff1a\n\n```sh\n$ adb devices\n\nList of devices attached\ncf264b8f\tdevice\nemulator-5554\tdevice\n10.129.164.6:5555\tdevice\n```\n\n\u8f93\u51fa\u91cc\u7684 `cf264b8f`\u3001`emulator-5554` \u548c `10.129.164.6:5555` \u5373\u4e3a serialNumber\u3002\n\n\u6bd4\u5982\u8fd9\u65f6\u60f3\u6307\u5b9a `cf264b8f` \u8fd9\u4e2a\u8bbe\u5907\u6765\u8fd0\u884c adb \u547d\u4ee4\u83b7\u53d6\u5c4f\u5e55\u5206\u8fa8\u7387\uff1a\n\n```sh\nadb -s cf264b8f shell wm size\n```\n\n\u53c8\u5982\u60f3\u7ed9 `10.129.164.6:5555` \u8fd9\u4e2a\u8bbe\u5907\u5b89\u88c5\u5e94\u7528\uff08*\u8fd9\u79cd\u5f62\u5f0f\u7684 serialNumber \u683c\u5f0f\u4e3a `<IP>:<Port>`\uff0c\u4e00\u822c\u4e3a\u65e0\u7ebf\u8fde\u63a5\u7684\u8bbe\u5907\u6216 Genymotion \u7b49\u7b2c\u4e09\u65b9 Android \u6a21\u62df\u5668*\uff09\uff1a\n\n```sh\nadb -s 10.129.164.6:5555 install test.apk\n```\n\n**\u9047\u5230\u591a\u8bbe\u5907/\u6a21\u62df\u5668\u7684\u60c5\u51b5\u5747\u4f7f\u7528\u8fd9\u51e0\u4e2a\u53c2\u6570\u4e3a\u547d\u4ee4\u6307\u5b9a\u76ee\u6807\u8bbe\u5907\uff0c\u4e0b\u6587\u4e2d\u4e3a\u7b80\u5316\u63cf\u8ff0\uff0c\u4e0d\u518d\u91cd\u590d\u3002**\n\n### \u542f\u52a8/\u505c\u6b62\n\n\u542f\u52a8 adb server \u547d\u4ee4\uff1a\n\n```sh\nadb start-server\n```\n\n\uff08\u4e00\u822c\u65e0\u9700\u624b\u52a8\u6267\u884c\u6b64\u547d\u4ee4\uff0c\u5728\u8fd0\u884c adb \u547d\u4ee4\u65f6\u82e5\u53d1\u73b0 adb server \u6ca1\u6709\u542f\u52a8\u4f1a\u81ea\u52a8\u8c03\u8d77\u3002\uff09\n\n\u505c\u6b62 adb server \u547d\u4ee4\uff1a\n\n```sh\nadb kill-server\n```\n\n### \u67e5\u770b adb \u7248\u672c\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb version\n```\n\n\u793a\u4f8b\u8f93\u51fa\uff1a\n\n```sh\nAndroid Debug Bridge version 1.0.36\nRevision 8f855a3d9b35-android\n```\n\n### \u4ee5 root \u6743\u9650\u8fd0\u884c adbd\n\nadb \u7684\u8fd0\u884c\u539f\u7406\u662f PC \u7aef\u7684 adb server \u4e0e\u624b\u673a\u7aef\u7684\u5b88\u62a4\u8fdb\u7a0b adbd \u5efa\u7acb\u8fde\u63a5\uff0c\u7136\u540e PC \u7aef\u7684 adb client \u901a\u8fc7 adb server \u8f6c\u53d1\u547d\u4ee4\uff0cadbd \u63a5\u6536\u547d\u4ee4\u540e\u89e3\u6790\u8fd0\u884c\u3002\n\n\u6240\u4ee5\u5982\u679c adbd \u4ee5\u666e\u901a\u6743\u9650\u6267\u884c\uff0c\u6709\u4e9b\u9700\u8981 root \u6743\u9650\u624d\u80fd\u6267\u884c\u7684\u547d\u4ee4\u65e0\u6cd5\u76f4\u63a5\u7528 `adb xxx` \u6267\u884c\u3002\u8fd9\u65f6\u53ef\u4ee5 `adb shell` \u7136\u540e `su` \u540e\u6267\u884c\u547d\u4ee4\uff0c\u4e5f\u53ef\u4ee5\u8ba9 adbd \u4ee5 root \u6743\u9650\u6267\u884c\uff0c\u8fd9\u4e2a\u5c31\u80fd\u968f\u610f\u6267\u884c\u9ad8\u6743\u9650\u547d\u4ee4\u4e86\u3002\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb root\n```\n\n\u6b63\u5e38\u8f93\u51fa\uff1a\n\n```sh\nrestarting adbd as root\n```\n\n\u73b0\u5728\u518d\u8fd0\u884c `adb shell`\uff0c\u770b\u770b\u547d\u4ee4\u884c\u63d0\u793a\u7b26\u662f\u4e0d\u662f\u53d8\u6210 `#` \u4e86\uff1f\n\n\u6709\u4e9b\u624b\u673a root \u540e\u4e5f\u65e0\u6cd5\u901a\u8fc7 `adb root` \u547d\u4ee4\u8ba9 adbd \u4ee5 root \u6743\u9650\u6267\u884c\uff0c\u6bd4\u5982\u4e09\u661f\u7684\u90e8\u5206\u673a\u578b\uff0c\u4f1a\u63d0\u793a `adbd cannot run as root in production builds`\uff0c\u6b64\u65f6\u53ef\u4ee5\u5148\u5b89\u88c5 adbd Insecure\uff0c\u7136\u540e `adb root` \u8bd5\u8bd5\u3002\n\n\u76f8\u5e94\u5730\uff0c\u5982\u679c\u8981\u6062\u590d adbd \u4e3a\u975e root \u6743\u9650\u7684\u8bdd\uff0c\u53ef\u4ee5\u4f7f\u7528 `adb unroot` \u547d\u4ee4\u3002\n\n### \u6307\u5b9a adb server \u7684\u7f51\u7edc\u7aef\u53e3\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb -P <port> start-server\n```\n\n\u9ed8\u8ba4\u7aef\u53e3\u4e3a 5037\u3002\n\n## \u8bbe\u5907\u8fde\u63a5\u7ba1\u7406\n\n### \u67e5\u8be2\u5df2\u8fde\u63a5\u8bbe\u5907/\u6a21\u62df\u5668\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb devices\n```\n\n\u8f93\u51fa\u793a\u4f8b\uff1a\n\n```sh\nList of devices attached\ncf264b8f\tdevice\nemulator-5554\tdevice\n10.129.164.6:5555\tdevice\n```\n\n\u8f93\u51fa\u683c\u5f0f\u4e3a `[serialNumber] [state]`\uff0cserialNumber \u5373\u6211\u4eec\u5e38\u8bf4\u7684 SN\uff0cstate \u6709\u5982\u4e0b\u51e0\u79cd\uff1a\n\n* `offline` \u2014\u2014 \u8868\u793a\u8bbe\u5907\u672a\u8fde\u63a5\u6210\u529f\u6216\u65e0\u54cd\u5e94\u3002\n\n* `device` \u2014\u2014 \u8bbe\u5907\u5df2\u8fde\u63a5\u3002\u6ce8\u610f\u8fd9\u4e2a\u72b6\u6001\u5e76\u4e0d\u80fd\u6807\u8bc6 Android \u7cfb\u7edf\u5df2\u7ecf\u5b8c\u5168\u542f\u52a8\u548c\u53ef\u64cd\u4f5c\uff0c\u5728\u8bbe\u5907\u542f\u52a8\u8fc7\u7a0b\u4e2d\u8bbe\u5907\u5b9e\u4f8b\u5c31\u53ef\u8fde\u63a5\u5230 adb\uff0c\u4f46\u542f\u52a8\u5b8c\u6bd5\u540e\u7cfb\u7edf\u624d\u5904\u4e8e\u53ef\u64cd\u4f5c\u72b6\u6001\u3002\n\n* `no device` \u2014\u2014 \u6ca1\u6709\u8bbe\u5907/\u6a21\u62df\u5668\u8fde\u63a5\u3002\n\n\u4ee5\u4e0a\u8f93\u51fa\u663e\u793a\u5f53\u524d\u5df2\u7ecf\u8fde\u63a5\u4e86\u4e09\u53f0\u8bbe\u5907/\u6a21\u62df\u5668\uff0c`cf264b8f`\u3001`emulator-5554` \u548c `10.129.164.6:5555` \u5206\u522b\u662f\u5b83\u4eec\u7684 SN\u3002\u4ece `emulator-5554` \u8fd9\u4e2a\u540d\u5b57\u53ef\u4ee5\u770b\u51fa\u5b83\u662f\u4e00\u4e2a Android \u6a21\u62df\u5668\uff0c\u800c `10.129.164.6:5555` \u8fd9\u79cd\u5f62\u4e3a `<IP>:<Port>` \u7684 serialNumber \u4e00\u822c\u662f\u65e0\u7ebf\u8fde\u63a5\u7684\u8bbe\u5907\u6216 Genymotion \u7b49\u7b2c\u4e09\u65b9 Android \u6a21\u62df\u5668\u3002\n\n\u5e38\u89c1\u5f02\u5e38\u8f93\u51fa\uff1a\n\n1. \u6ca1\u6709\u8bbe\u5907/\u6a21\u62df\u5668\u8fde\u63a5\u6210\u529f\u3002\n\n   ```sh\n   List of devices attached\n   ```\n\n2. \u8bbe\u5907/\u6a21\u62df\u5668\u672a\u8fde\u63a5\u5230 adb \u6216\u65e0\u54cd\u5e94\u3002\n\n   ```sh\n   List of devices attached\n   cf264b8f\toffline\n   ```\n\n### USB \u8fde\u63a5\n\n\u901a\u8fc7 USB \u8fde\u63a5\u6765\u6b63\u5e38\u4f7f\u7528 adb \u9700\u8981\u4fdd\u8bc1\u51e0\u70b9\uff1a\n\n1. \u786c\u4ef6\u72b6\u6001\u6b63\u5e38\u3002\n\n   \u5305\u62ec Android \u8bbe\u5907\u5904\u4e8e\u6b63\u5e38\u5f00\u673a\u72b6\u6001\uff0cUSB \u8fde\u63a5\u7ebf\u548c\u5404\u79cd\u63a5\u53e3\u5b8c\u597d\u3002\n\n2. Android \u8bbe\u5907\u7684\u5f00\u53d1\u8005\u9009\u9879\u548c USB \u8c03\u8bd5\u6a21\u5f0f\u5df2\u5f00\u542f\u3002\n\n   \u53ef\u4ee5\u5230\u300c\u8bbe\u7f6e\u300d-\u300c\u5f00\u53d1\u8005\u9009\u9879\u300d-\u300cAndroid \u8c03\u8bd5\u300d\u67e5\u770b\u3002\n\n   \u5982\u679c\u5728\u8bbe\u7f6e\u91cc\u627e\u4e0d\u5230\u5f00\u53d1\u8005\u9009\u9879\uff0c\u90a3\u9700\u8981\u901a\u8fc7\u4e00\u4e2a\u5f69\u86cb\u6765\u8ba9\u5b83\u663e\u793a\u51fa\u6765\uff1a\u5728\u300c\u8bbe\u7f6e\u300d-\u300c\u5173\u4e8e\u624b\u673a\u300d\u8fde\u7eed\u70b9\u51fb\u300c\u7248\u672c\u53f7\u300d7 \u6b21\u3002\n\n3. \u8bbe\u5907\u9a71\u52a8\u72b6\u6001\u6b63\u5e38\u3002\n\n   \u8fd9\u4e00\u70b9\u8c8c\u4f3c\u5728 Linux \u548c Mac OS X \u4e0b\u4e0d\u7528\u64cd\u5fc3\uff0c\u5728 Windows \u4e0b\u6709\u53ef\u80fd\u9047\u5230\u9700\u8981\u5b89\u88c5\u9a71\u52a8\u7684\u60c5\u51b5\uff0c\u786e\u8ba4\u8fd9\u4e00\u70b9\u53ef\u4ee5\u53f3\u952e\u300c\u8ba1\u7b97\u673a\u300d-\u300c\u5c5e\u6027\u300d\uff0c\u5230\u300c\u8bbe\u5907\u7ba1\u7406\u5668\u300d\u91cc\u67e5\u770b\u76f8\u5173\u8bbe\u5907\u4e0a\u662f\u5426\u6709\u9ec4\u8272\u611f\u53f9\u53f7\u6216\u95ee\u53f7\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u8bf4\u660e\u9a71\u52a8\u72b6\u6001\u5df2\u7ecf\u597d\u4e86\u3002\u5426\u5219\u53ef\u4ee5\u4e0b\u8f7d\u4e00\u4e2a\u624b\u673a\u52a9\u624b\u7c7b\u7a0b\u5e8f\u6765\u5b89\u88c5\u9a71\u52a8\u5148\u3002\n\n4. \u901a\u8fc7 USB \u7ebf\u8fde\u63a5\u597d\u7535\u8111\u548c\u8bbe\u5907\u540e\u786e\u8ba4\u72b6\u6001\u3002\n\n   ```sh\n   adb devices\n   ```\n\n   \u5982\u679c\u80fd\u770b\u5230\n\n   ```sh\n   xxxxxx device\n   ```\n\n   \u8bf4\u660e\u8fde\u63a5\u6210\u529f\u3002\n\n### \u65e0\u7ebf\u8fde\u63a5\uff08Android11 \u53ca\u4ee5\u4e0a\uff09\n\nAndroid 11 \u53ca\u66f4\u9ad8\u7248\u672c\u652f\u6301\u4f7f\u7528 Android \u8c03\u8bd5\u6865 (adb) \u4ece\u5de5\u4f5c\u7ad9\u4ee5\u65e0\u7ebf\u65b9\u5f0f\u90e8\u7f72\u548c\u8c03\u8bd5\u5e94\u7528\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u5c06\u53ef\u8c03\u8bd5\u5e94\u7528\u90e8\u7f72\u5230\u591a\u53f0\u8fdc\u7a0b\u8bbe\u5907\uff0c\u800c\u65e0\u9700\u901a\u8fc7 USB \u5b9e\u9645\u8fde\u63a5\u8bbe\u5907\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5\u907f\u514d\u5e38\u89c1\u7684 USB \u8fde\u63a5\u95ee\u9898\uff0c\u4f8b\u5982\u9a71\u52a8\u7a0b\u5e8f\u5b89\u88c5\u65b9\u9762\u7684\u95ee\u9898\u3002\n\n[\u5b98\u65b9\u6587\u6863](https://developer.android.com/studio/command-line/adb?hl=zh_cn#connect-to-a-device-over-wi-fi-android-11+)\n\n\u64cd\u4f5c\u6b65\u9aa4\uff1a\n\n1. \u66f4\u65b0\u5230\u6700\u65b0\u7248\u672c\u7684 [SDK \u5e73\u53f0\u5de5\u5177](https://developer.android.com/studio/releases/platform-tools?hl=zh_cn)(\u81f3\u5c1130.0.0)\u3002\n\n2. \u5c06 Android \u8bbe\u5907\u4e0e\u8981\u8fd0\u884c adb \u7684\u7535\u8111\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u5c40\u57df\u7f51\uff0c\u6bd4\u5982\u8fde\u5230\u540c\u4e00\u4e2a WiFi\u3002\n\n3. \u5728\u5f00\u53d1\u8005\u9009\u9879\u4e2d\u542f\u7528**\u65e0\u7ebf\u8c03\u8bd5**\u3002\n\n4. \u5728\u8be2\u95ee\u8981\u5141\u8bb8\u5728\u6b64\u7f51\u7edc\u4e0a\u8fdb\u884c\u65e0\u7ebf\u8c03\u8bd5\u5417\uff1f\u7684\u5bf9\u8bdd\u6846\u4e2d\uff0c\u70b9\u51fb\u5141\u8bb8\u3002\n\n5. \u9009\u62e9\u4f7f\u7528\u914d\u5bf9\u7801\u914d\u5bf9\u8bbe\u5907\uff0c\u4f7f\u7528\u5f39\u7a97\u4e2d\u7684 IP \u5730\u5740\u548c\u7aef\u53e3\u53f7\u3002\n\n   ```sh\n   adb pair ipaddr:port\n   ```\n\n6. \u63d0\u793a`Enter pairing code: `\u65f6\u8f93\u5165\u5f39\u7a97\u4e2d\u7684\u914d\u5bf9\u7801\uff0c\u6210\u529f\u540e\u4f1a\u663e\u793a`Successfully paired to ...`\u3002\n\n7. \u4f7f\u7528\u65e0\u7ebf\u8c03\u8bd5\u4e0b\u7684 **IP \u5730\u5740\u548c\u7aef\u53e3**\u3002\n\n   ```sh\n   adb connect ipaddr:port\n   ```\n\n8. \u786e\u8ba4\u8fde\u63a5\u72b6\u6001\u3002\n\n   ```sh\n   adb devices\n   ```\n\n   \u5982\u679c\u80fd\u770b\u5230\n\n   ```sh\n   ipaddr:port device\n   ```\n\n\u8bf4\u660e\u8fde\u63a5\u6210\u529f\u3002\n\n### \u65e0\u7ebf\u8fde\u63a5\uff08\u9700\u8981\u501f\u52a9 USB \u7ebf\uff09\n\n\u9664\u4e86\u53ef\u4ee5\u901a\u8fc7 USB \u8fde\u63a5\u8bbe\u5907\u4e0e\u7535\u8111\u6765\u4f7f\u7528 adb\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u65e0\u7ebf\u8fde\u63a5\u2014\u2014\u867d\u7136\u8fde\u63a5\u8fc7\u7a0b\u4e2d\u4e5f\u6709\u9700\u8981\u4f7f\u7528 USB \u7684\u6b65\u9aa4\uff0c\u4f46\u662f\u8fde\u63a5\u6210\u529f\u4e4b\u540e\u4f60\u7684\u8bbe\u5907\u5c31\u53ef\u4ee5\u5728\u4e00\u5b9a\u8303\u56f4\u5185\u6446\u8131 USB \u8fde\u63a5\u7ebf\u7684\u9650\u5236\u5566\uff01\n\n\u64cd\u4f5c\u6b65\u9aa4\uff1a\n\n1. \u5c06 Android \u8bbe\u5907\u4e0e\u8981\u8fd0\u884c adb \u7684\u7535\u8111\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u5c40\u57df\u7f51\uff0c\u6bd4\u5982\u8fde\u5230\u540c\u4e00\u4e2a WiFi\u3002\n\n2. \u5c06\u8bbe\u5907\u4e0e\u7535\u8111\u901a\u8fc7 USB \u7ebf\u8fde\u63a5\u3002\n\n   \u5e94\u786e\u4fdd\u8fde\u63a5\u6210\u529f\uff08\u53ef\u8fd0\u884c `adb devices` \u770b\u662f\u5426\u80fd\u5217\u51fa\u8be5\u8bbe\u5907\uff09\u3002\n\n3. \u8ba9\u8bbe\u5907\u5728 5555 \u7aef\u53e3\u76d1\u542c TCP/IP \u8fde\u63a5\uff1a\n\n   ```sh\n   adb tcpip 5555\n   ```\n\n4. \u65ad\u5f00 USB \u8fde\u63a5\u3002\n\n5. \u627e\u5230\u8bbe\u5907\u7684 IP \u5730\u5740\u3002\n\n   \u4e00\u822c\u80fd\u5728\u300c\u8bbe\u7f6e\u300d-\u300c\u5173\u4e8e\u624b\u673a\u300d-\u300c\u72b6\u6001\u4fe1\u606f\u300d-\u300cIP\u5730\u5740\u300d\u627e\u5230\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e0b\u6587\u91cc [\u67e5\u770b\u8bbe\u5907\u4fe1\u606f - IP \u5730\u5740][1] \u4e00\u8282\u91cc\u7684\u65b9\u6cd5\u7528 adb \u547d\u4ee4\u6765\u67e5\u770b\u3002\n\n6. \u901a\u8fc7 IP \u5730\u5740\u8fde\u63a5\u8bbe\u5907\u3002\n\n   ```sh\n   adb connect <device-ip-address>\n   ```\n\n   \u8fd9\u91cc\u7684 `<device-ip-address>` \u5c31\u662f\u4e0a\u4e00\u6b65\u4e2d\u627e\u5230\u7684\u8bbe\u5907 IP \u5730\u5740\u3002\n\n7. \u786e\u8ba4\u8fde\u63a5\u72b6\u6001\u3002\n\n   ```sh\n   adb devices\n   ```\n\n   \u5982\u679c\u80fd\u770b\u5230\n\n   ```sh\n   <device-ip-address>:5555 device\n   ```\n\n   \u8bf4\u660e\u8fde\u63a5\u6210\u529f\u3002\n\n\u5982\u679c\u8fde\u63a5\u4e0d\u4e86\uff0c\u8bf7\u786e\u8ba4 Android \u8bbe\u5907\u4e0e\u7535\u8111\u662f\u8fde\u63a5\u5230\u4e86\u540c\u4e00\u4e2a WiFi\uff0c\u7136\u540e\u518d\u6b21\u6267\u884c `adb connect <device-ip-address>` \u90a3\u4e00\u6b65\uff1b\n\n\u5982\u679c\u8fd8\u662f\u4e0d\u884c\u7684\u8bdd\uff0c\u901a\u8fc7 `adb kill-server` \u91cd\u65b0\u542f\u52a8 adb \u7136\u540e\u4ece\u5934\u518d\u6765\u4e00\u6b21\u8bd5\u8bd5\u3002\n\n**\u65ad\u5f00\u65e0\u7ebf\u8fde\u63a5**\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb disconnect <device-ip-address>\n```\n\n### \u65e0\u7ebf\u8fde\u63a5\uff08\u65e0\u9700\u501f\u52a9 USB \u7ebf\uff09\n\n**\u6ce8\uff1a\u9700\u8981 root \u6743\u9650\u3002**\n\n\u4e0a\u4e00\u8282\u300c\u65e0\u7ebf\u8fde\u63a5\uff08\u9700\u8981\u501f\u52a9 USB \u7ebf\uff09\u300d\u662f\u5b98\u65b9\u6587\u6863\u91cc\u4ecb\u7ecd\u7684\u65b9\u6cd5\uff0c\u9700\u8981\u501f\u52a9\u4e8e USB \u6570\u636e\u7ebf\u6765\u5b9e\u73b0\u65e0\u7ebf\u8fde\u63a5\u3002\n\n\u65e2\u7136\u6211\u4eec\u60f3\u8981\u5b9e\u73b0\u65e0\u7ebf\u8fde\u63a5\uff0c\u90a3\u80fd\u4e0d\u80fd\u6240\u6709\u6b65\u9aa4\u4e0b\u6765\u90fd\u662f\u65e0\u7ebf\u7684\u5462\uff1f\u7b54\u6848\u662f\u80fd\u7684\u3002\n\n1. \u5728 Android \u8bbe\u5907\u4e0a\u5b89\u88c5\u4e00\u4e2a\u7ec8\u7aef\u6a21\u62df\u5668\u3002\n\n   \u5df2\u7ecf\u5b89\u88c5\u8fc7\u7684\u8bbe\u5907\u53ef\u4ee5\u8df3\u8fc7\u6b64\u6b65\u3002\u6211\u4f7f\u7528\u7684\u7ec8\u7aef\u6a21\u62df\u5668\u4e0b\u8f7d\u5730\u5740\u662f\uff1a[Terminal Emulator for Android Downloads](https://jackpal.github.io/Android-Terminal-Emulator/)\n\n2. \u5c06 Android \u8bbe\u5907\u4e0e\u8981\u8fd0\u884c adb \u7684\u7535\u8111\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u5c40\u57df\u7f51\uff0c\u6bd4\u5982\u8fde\u5230\u540c\u4e00\u4e2a WiFi\u3002\n\n3. \u6253\u5f00 Android \u8bbe\u5907\u4e0a\u7684\u7ec8\u7aef\u6a21\u62df\u5668\uff0c\u5728\u91cc\u9762\u4f9d\u6b21\u8fd0\u884c\u547d\u4ee4\uff1a\n\n   ```sh\n   su\n   setprop service.adb.tcp.port 5555\n   ```\n\n4. \u627e\u5230 Android \u8bbe\u5907\u7684 IP \u5730\u5740\u3002\n\n   \u4e00\u822c\u80fd\u5728\u300c\u8bbe\u7f6e\u300d-\u300c\u5173\u4e8e\u624b\u673a\u300d-\u300c\u72b6\u6001\u4fe1\u606f\u300d-\u300cIP\u5730\u5740\u300d\u627e\u5230\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e0b\u6587\u91cc [\u67e5\u770b\u8bbe\u5907\u4fe1\u606f - IP \u5730\u5740][1] \u4e00\u8282\u91cc\u7684\u65b9\u6cd5\u7528 adb \u547d\u4ee4\u6765\u67e5\u770b\u3002\n\n5. \u5728\u7535\u8111\u4e0a\u901a\u8fc7 adb \u548c IP \u5730\u5740\u8fde\u63a5 Android \u8bbe\u5907\u3002\n\n   ```sh\n   adb connect <device-ip-address>\n   ```\n\n   \u8fd9\u91cc\u7684 `<device-ip-address>` \u5c31\u662f\u4e0a\u4e00\u6b65\u4e2d\u627e\u5230\u7684\u8bbe\u5907 IP \u5730\u5740\u3002\n\n   \u5982\u679c\u80fd\u770b\u5230 `connected to <device-ip-address>:5555` \u8fd9\u6837\u7684\u8f93\u51fa\u5219\u8868\u793a\u8fde\u63a5\u6210\u529f\u3002\n\n*\u8282\u6ce8\u4e00\uff1a*\n\n\u6709\u7684\u8bbe\u5907\uff0c\u6bd4\u5982\u5c0f\u7c73 5S + MIUI 8.0 + Android 6.0.1 MXB48T\uff0c\u53ef\u80fd\u5728\u7b2c 5 \u6b65\u4e4b\u524d\u9700\u8981\u91cd\u542f adbd \u670d\u52a1\uff0c\u5728\u8bbe\u5907\u7684\u7ec8\u7aef\u6a21\u62df\u5668\u4e0a\u8fd0\u884c\uff1a\n\n```sh\nrestart adbd\n```\n\n\u5982\u679c restart \u65e0\u6548\uff0c\u5c1d\u8bd5\u4ee5\u4e0b\u547d\u4ee4\uff1a\n\n```sh\nstop adbd\nstart adbd\n```\n\n## \u5e94\u7528\u7ba1\u7406\n\n### \u67e5\u770b\u5e94\u7528\u5217\u8868\n\n\u67e5\u770b\u5e94\u7528\u5217\u8868\u7684\u57fa\u672c\u547d\u4ee4\u683c\u5f0f\u662f\n\n```sh\nadb shell pm list packages [-f] [-d] [-e] [-s] [-3] [-i] [-u] [--user USER_ID] [FILTER]\n```\n\n\u5373\u5728 `adb shell pm list packages` \u7684\u57fa\u7840\u4e0a\u53ef\u4ee5\u52a0\u4e00\u4e9b\u53c2\u6570\u8fdb\u884c\u8fc7\u6ee4\u67e5\u770b\u4e0d\u540c\u7684\u5217\u8868\uff0c\u652f\u6301\u7684\u8fc7\u6ee4\u53c2\u6570\u5982\u4e0b\uff1a\n\n| \u53c2\u6570       | \u663e\u793a\u5217\u8868                   |\n|------------|----------------------------|\n| \u65e0         | \u6240\u6709\u5e94\u7528                   |\n| -f         | \u663e\u793a\u5e94\u7528\u5173\u8054\u7684 apk \u6587\u4ef6    |\n| -d         | \u53ea\u663e\u793a disabled \u7684\u5e94\u7528     |\n| -e         | \u53ea\u663e\u793a enabled \u7684\u5e94\u7528      |\n| -s         | \u53ea\u663e\u793a\u7cfb\u7edf\u5e94\u7528             |\n| -3         | \u53ea\u663e\u793a\u7b2c\u4e09\u65b9\u5e94\u7528           |\n| -i         | \u663e\u793a\u5e94\u7528\u7684 installer       |\n| -u         | \u5305\u542b\u5df2\u5378\u8f7d\u5e94\u7528             |\n| `<FILTER>` | \u5305\u540d\u5305\u542b `<FILTER>` \u5b57\u7b26\u4e32 |\n\n#### \u6240\u6709\u5e94\u7528\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell pm list packages\n```\n\n\u8f93\u51fa\u793a\u4f8b\uff1a\n\n```sh\npackage:com.android.smoketest\npackage:com.example.android.livecubes\npackage:com.android.providers.telephony\npackage:com.google.android.googlequicksearchbox\npackage:com.android.providers.calendar\npackage:com.android.providers.media\npackage:com.android.protips\npackage:com.android.documentsui\npackage:com.android.gallery\npackage:com.android.externalstorage\n...\n// other packages here\n...\n```\n\n#### \u7cfb\u7edf\u5e94\u7528\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell pm list packages -s\n```\n\n#### \u7b2c\u4e09\u65b9\u5e94\u7528\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell pm list packages -3\n```\n\n#### \u5305\u540d\u5305\u542b\u67d0\u5b57\u7b26\u4e32\u7684\u5e94\u7528\n\n\u6bd4\u5982\u8981\u67e5\u770b\u5305\u540d\u5305\u542b\u5b57\u7b26\u4e32 `mazhuang` \u7684\u5e94\u7528\u5217\u8868\uff0c\u547d\u4ee4\uff1a\n\n```sh\nadb shell pm list packages mazhuang\n```\n\n\u5f53\u7136\u4e5f\u53ef\u4ee5\u4f7f\u7528 grep \u6765\u8fc7\u6ee4\uff1a\n\n```sh\nadb shell pm list packages | grep mazhuang\n```\n\n### \u5b89\u88c5 APK\n\n\u547d\u4ee4\u683c\u5f0f\uff1a\n\n```sh\nadb install [-lrtsdg] <path_to_apk>\n```\n\n\u53c2\u6570\uff1a\n\n`adb install` \u540e\u9762\u53ef\u4ee5\u8ddf\u4e00\u4e9b\u53ef\u9009\u53c2\u6570\u6765\u63a7\u5236\u5b89\u88c5 APK \u7684\u884c\u4e3a\uff0c\u53ef\u7528\u53c2\u6570\u53ca\u542b\u4e49\u5982\u4e0b\uff1a\n\n| \u53c2\u6570                 | \u542b\u4e49                                                                                  |\n|----------------------|---------------------------------------------------------------------------------------|\n| -l                   | \u5c06\u5e94\u7528\u5b89\u88c5\u5230\u4fdd\u62a4\u76ee\u5f55 /mnt/asec                                                        |\n| -r                   | \u5141\u8bb8\u8986\u76d6\u5b89\u88c5                                                                          |\n| -t                   | \u5141\u8bb8\u5b89\u88c5 AndroidManifest.xml \u91cc application \u6307\u5b9a `android:testOnly=\"true\"` \u7684\u5e94\u7528     |\n| -s                   | \u5c06\u5e94\u7528\u5b89\u88c5\u5230 sdcard                                                                   |\n| -d                   | \u5141\u8bb8\u964d\u7ea7\u8986\u76d6\u5b89\u88c5                                                                      |\n| -g                   | \u6388\u4e88\u6240\u6709\u8fd0\u884c\u65f6\u6743\u9650                                                                    |\n| --abi abi-identifier | \u4e3a\u7279\u5b9a ABI \u5f3a\u5236\u5b89\u88c5 apk\uff0cabi-identifier \u53ef\u4ee5\u662f armeabi-v7a\u3001arm64-v8a\u3001v86\u3001x86_64 \u7b49 |\n\n\u8fd0\u884c\u547d\u4ee4\u540e\u5982\u679c\u89c1\u5230\u7c7b\u4f3c\u5982\u4e0b\u8f93\u51fa\uff08\u72b6\u6001\u4e3a `Success`\uff09\u4ee3\u8868\u5b89\u88c5\u6210\u529f\uff1a\n\n```sh\n[100%] /data/local/tmp/1.apk\n\tpkg: /data/local/tmp/1.apk\nSuccess\n```\n\n\u4e0a\u9762\u662f\u5f53\u524d\u6700\u65b0\u7248 v1.0.36 \u7684 adb \u7684\u8f93\u51fa\uff0c\u4f1a\u663e\u793a push apk \u6587\u4ef6\u5230\u624b\u673a\u7684\u8fdb\u5ea6\u767e\u5206\u6bd4\u3002\n\n\u4f7f\u7528\u65e7\u7248\u672c adb \u7684\u8f93\u51fa\u5219\u662f\u8fd9\u6837\u7684\uff1a\n\n```sh\n12040 KB/s (22205609 bytes in 1.801s)\n        pkg: /data/local/tmp/SogouInput_android_v8.3_sweb.apk\nSuccess\n```\n\n\u800c\u5982\u679c\u72b6\u6001\u4e3a `Failure` \u5219\u8868\u793a\u5b89\u88c5\u5931\u8d25\uff0c\u6bd4\u5982\uff1a\n\n```sh\n[100%] /data/local/tmp/map-20160831.apk\n        pkg: /data/local/tmp/map-20160831.apk\nFailure [INSTALL_FAILED_ALREADY_EXISTS]\n```\n\n\u5e38\u89c1\u5b89\u88c5\u5931\u8d25\u8f93\u51fa\u4ee3\u7801\u3001\u542b\u4e49\u53ca\u53ef\u80fd\u7684\u89e3\u51b3\u529e\u6cd5\u5982\u4e0b\uff1a\n\n| \u8f93\u51fa                                                                | \u542b\u4e49                                                                     | \u89e3\u51b3\u529e\u6cd5                                                                           |\n|---------------------------------------------------------------------|--------------------------------------------------------------------------|------------------------------------------------------------------------------------|\n| INSTALL\\_FAILED\\_ALREADY\\_EXISTS                                    | \u5e94\u7528\u5df2\u7ecf\u5b58\u5728\uff0c\u6216\u5378\u8f7d\u4e86\u4f46\u6ca1\u5378\u8f7d\u5e72\u51c0                                       | `adb install` \u65f6\u4f7f\u7528 `-r` \u53c2\u6570\uff0c\u6216\u8005\u5148 `adb uninstall <packagename>` \u518d\u5b89\u88c5        |\n| INSTALL\\_FAILED\\_INVALID\\_APK                                       | \u65e0\u6548\u7684 APK \u6587\u4ef6                                                          |                                                                                    |\n| INSTALL\\_FAILED\\_INVALID\\_URI                                       | \u65e0\u6548\u7684 APK \u6587\u4ef6\u540d                                                        | \u786e\u4fdd APK \u6587\u4ef6\u540d\u91cc\u65e0\u4e2d\u6587                                                            |\n| INSTALL\\_FAILED\\_INSUFFICIENT\\_STORAGE                              | \u7a7a\u95f4\u4e0d\u8db3                                                                 | \u6e05\u7406\u7a7a\u95f4                                                                           |\n| INSTALL\\_FAILED\\_DUPLICATE\\_PACKAGE                                 | \u5df2\u7ecf\u5b58\u5728\u540c\u540d\u7a0b\u5e8f                                                         |                                                                                    |\n| INSTALL\\_FAILED\\_NO\\_SHARED\\_USER                                   | \u8bf7\u6c42\u7684\u5171\u4eab\u7528\u6237\u4e0d\u5b58\u5728                                                     |                                                                                    |\n| INSTALL\\_FAILED\\_UPDATE\\_INCOMPATIBLE                               | \u4ee5\u524d\u5b89\u88c5\u8fc7\u540c\u540d\u5e94\u7528\uff0c\u4f46\u5378\u8f7d\u65f6\u6570\u636e\u6ca1\u6709\u79fb\u9664\uff1b\u6216\u8005\u5df2\u5b89\u88c5\u8be5\u5e94\u7528\uff0c\u4f46\u7b7e\u540d\u4e0d\u4e00\u81f4 | \u5148 `adb uninstall <packagename>` \u518d\u5b89\u88c5                                            |\n| INSTALL\\_FAILED\\_SHARED\\_USER\\_INCOMPATIBLE                         | \u8bf7\u6c42\u7684\u5171\u4eab\u7528\u6237\u5b58\u5728\u4f46\u7b7e\u540d\u4e0d\u4e00\u81f4                                           |                                                                                    |\n| INSTALL\\_FAILED\\_MISSING\\_SHARED\\_LIBRARY                           | \u5b89\u88c5\u5305\u4f7f\u7528\u4e86\u8bbe\u5907\u4e0a\u4e0d\u53ef\u7528\u7684\u5171\u4eab\u5e93                                         |                                                                                    |\n| INSTALL\\_FAILED\\_REPLACE\\_COULDNT\\_DELETE                           | \u66ff\u6362\u65f6\u65e0\u6cd5\u5220\u9664                                                           |                                                                                    |\n| INSTALL\\_FAILED\\_DEXOPT                                             | dex \u4f18\u5316\u9a8c\u8bc1\u5931\u8d25\u6216\u7a7a\u95f4\u4e0d\u8db3                                               |                                                                                    |\n| INSTALL\\_FAILED\\_OLDER\\_SDK                                         | \u8bbe\u5907\u7cfb\u7edf\u7248\u672c\u4f4e\u4e8e\u5e94\u7528\u8981\u6c42                                                 |                                                                                    |\n| INSTALL\\_FAILED\\_CONFLICTING\\_PROVIDER                              | \u8bbe\u5907\u91cc\u5df2\u7ecf\u5b58\u5728\u4e0e\u5e94\u7528\u91cc\u540c\u540d\u7684 content provider                            |                                                                                    |\n| INSTALL\\_FAILED\\_NEWER\\_SDK                                         | \u8bbe\u5907\u7cfb\u7edf\u7248\u672c\u9ad8\u4e8e\u5e94\u7528\u8981\u6c42                                                 |                                                                                    |\n| INSTALL\\_FAILED\\_TEST\\_ONLY                                         | \u5e94\u7528\u662f test-only \u7684\uff0c\u4f46\u5b89\u88c5\u65f6\u6ca1\u6709\u6307\u5b9a `-t` \u53c2\u6570                          |                                                                                    |\n| INSTALL\\_FAILED\\_CPU\\_ABI\\_INCOMPATIBLE                             | \u5305\u542b\u4e0d\u517c\u5bb9\u8bbe\u5907 CPU \u5e94\u7528\u7a0b\u5e8f\u4e8c\u8fdb\u5236\u63a5\u53e3\u7684 native code                      |                                                                                    |\n| INSTALL\\_FAILED\\_MISSING\\_FEATURE                                   | \u5e94\u7528\u4f7f\u7528\u4e86\u8bbe\u5907\u4e0d\u53ef\u7528\u7684\u529f\u80fd                                               |                                                                                    |\n| INSTALL\\_FAILED\\_CONTAINER\\_ERROR                                   | 1. sdcard \u8bbf\u95ee\u5931\u8d25;<br />2. \u5e94\u7528\u7b7e\u540d\u4e0e ROM \u7b7e\u540d\u4e00\u81f4\uff0c\u88ab\u5f53\u4f5c\u5185\u7f6e\u5e94\u7528\u3002    | 1. \u786e\u8ba4 sdcard \u53ef\u7528\uff0c\u6216\u8005\u5b89\u88c5\u5230\u5185\u7f6e\u5b58\u50a8;<br />2. \u6253\u5305\u65f6\u4e0d\u4e0e ROM \u4f7f\u7528\u76f8\u540c\u7b7e\u540d\u3002     |\n| INSTALL\\_FAILED\\_INVALID\\_INSTALL\\_LOCATION                         | 1. \u4e0d\u80fd\u5b89\u88c5\u5230\u6307\u5b9a\u4f4d\u7f6e;<br />2. \u5e94\u7528\u7b7e\u540d\u4e0e ROM \u7b7e\u540d\u4e00\u81f4\uff0c\u88ab\u5f53\u4f5c\u5185\u7f6e\u5e94\u7528\u3002 | 1. \u5207\u6362\u5b89\u88c5\u4f4d\u7f6e\uff0c\u6dfb\u52a0\u6216\u5220\u9664 `-s` \u53c2\u6570;<br />2. \u6253\u5305\u65f6\u4e0d\u4e0e ROM \u4f7f\u7528\u76f8\u540c\u7b7e\u540d\u3002       |\n| INSTALL\\_FAILED\\_MEDIA\\_UNAVAILABLE                                 | \u5b89\u88c5\u4f4d\u7f6e\u4e0d\u53ef\u7528                                                           | \u4e00\u822c\u4e3a sdcard\uff0c\u786e\u8ba4 sdcard \u53ef\u7528\u6216\u5b89\u88c5\u5230\u5185\u7f6e\u5b58\u50a8                                    |\n| INSTALL\\_FAILED\\_VERIFICATION\\_TIMEOUT                              | \u9a8c\u8bc1\u5b89\u88c5\u5305\u8d85\u65f6                                                           |                                                                                    |\n| INSTALL\\_FAILED\\_VERIFICATION\\_FAILURE                              | \u9a8c\u8bc1\u5b89\u88c5\u5305\u5931\u8d25                                                           |                                                                                    |\n| INSTALL\\_FAILED\\_PACKAGE\\_CHANGED                                   | \u5e94\u7528\u4e0e\u8c03\u7528\u7a0b\u5e8f\u671f\u671b\u7684\u4e0d\u4e00\u81f4                                               |                                                                                    |\n| INSTALL\\_FAILED\\_UID\\_CHANGED                                       | \u4ee5\u524d\u5b89\u88c5\u8fc7\u8be5\u5e94\u7528\uff0c\u4e0e\u672c\u6b21\u5206\u914d\u7684 UID \u4e0d\u4e00\u81f4                                | \u6e05\u9664\u4ee5\u524d\u5b89\u88c5\u8fc7\u7684\u6b8b\u7559\u6587\u4ef6                                                           |\n| INSTALL\\_FAILED\\_VERSION\\_DOWNGRADE                                 | \u5df2\u7ecf\u5b89\u88c5\u4e86\u8be5\u5e94\u7528\u66f4\u9ad8\u7248\u672c                                                 | \u4f7f\u7528 `-d` \u53c2\u6570                                                                     |\n| INSTALL\\_FAILED\\_PERMISSION\\_MODEL\\_DOWNGRADE                       | \u5df2\u5b89\u88c5 target SDK \u652f\u6301\u8fd0\u884c\u65f6\u6743\u9650\u7684\u540c\u540d\u5e94\u7528\uff0c\u8981\u5b89\u88c5\u7684\u7248\u672c\u4e0d\u652f\u6301\u8fd0\u884c\u65f6\u6743\u9650 |                                                                                    |\n| INSTALL\\_PARSE\\_FAILED\\_NOT\\_APK                                    | \u6307\u5b9a\u8def\u5f84\u4e0d\u662f\u6587\u4ef6\uff0c\u6216\u4e0d\u662f\u4ee5 `.apk` \u7ed3\u5c3e                                   |                                                                                    |\n| INSTALL\\_PARSE\\_FAILED\\_BAD\\_MANIFEST                               | \u65e0\u6cd5\u89e3\u6790\u7684 AndroidManifest.xml \u6587\u4ef6                                      |                                                                                    |\n| INSTALL\\_PARSE\\_FAILED\\_UNEXPECTED\\_EXCEPTION                       | \u89e3\u6790\u5668\u9047\u5230\u5f02\u5e38                                                           |                                                                                    |\n| INSTALL\\_PARSE\\_FAILED\\_NO\\_CERTIFICATES                            | \u5b89\u88c5\u5305\u6ca1\u6709\u7b7e\u540d                                                           |                                                                                    |\n| INSTALL\\_PARSE\\_FAILED\\_INCONSISTENT\\_CERTIFICATES                  | \u5df2\u5b89\u88c5\u8be5\u5e94\u7528\uff0c\u4e14\u7b7e\u540d\u4e0e APK \u6587\u4ef6\u4e0d\u4e00\u81f4                                    | \u5148\u5378\u8f7d\u8bbe\u5907\u4e0a\u7684\u8be5\u5e94\u7528\uff0c\u518d\u5b89\u88c5                                                       |\n| INSTALL\\_PARSE\\_FAILED\\_CERTIFICATE\\_ENCODING                       | \u89e3\u6790 APK \u6587\u4ef6\u65f6\u9047\u5230 `CertificateEncodingException`                       |                                                                                    |\n| INSTALL\\_PARSE\\_FAILED\\_BAD\\_PACKAGE\\_NAME                          | manifest \u6587\u4ef6\u91cc\u6ca1\u6709\u6216\u8005\u4f7f\u7528\u4e86\u65e0\u6548\u7684\u5305\u540d                                  |                                                                                    |\n| INSTALL\\_PARSE\\_FAILED\\_BAD\\_SHARED\\_USER\\_ID                       | manifest \u6587\u4ef6\u91cc\u6307\u5b9a\u4e86\u65e0\u6548\u7684\u5171\u4eab\u7528\u6237 ID                                   |                                                                                    |\n| INSTALL\\_PARSE\\_FAILED\\_MANIFEST\\_MALFORMED                         | \u89e3\u6790 manifest \u6587\u4ef6\u65f6\u9047\u5230\u7ed3\u6784\u6027\u9519\u8bef                                       |                                                                                    |\n| INSTALL\\_PARSE\\_FAILED\\_MANIFEST\\_EMPTY                             | \u5728 manifest \u6587\u4ef6\u91cc\u627e\u4e0d\u5230\u627e\u53ef\u64cd\u4f5c\u6807\u7b7e\uff08instrumentation \u6216 application\uff09   |                                                                                    |\n| INSTALL\\_FAILED\\_INTERNAL\\_ERROR                                    | \u56e0\u7cfb\u7edf\u95ee\u9898\u5b89\u88c5\u5931\u8d25                                                       |                                                                                    |\n| INSTALL\\_FAILED\\_USER\\_RESTRICTED                                   | \u7528\u6237\u88ab\u9650\u5236\u5b89\u88c5\u5e94\u7528                                                       | \u5728\u5f00\u53d1\u8005\u9009\u9879\u91cc\u5c06\u300cUSB\u5b89\u88c5\u300d\u6253\u5f00\uff0c\u5982\u679c\u5df2\u7ecf\u6253\u5f00\u4e86\uff0c\u90a3\u5148\u5173\u95ed\u518d\u6253\u5f00\u3002                  |\n| INSTALL\\_FAILED\\_DUPLICATE\\_PERMISSION                              | \u5e94\u7528\u5c1d\u8bd5\u5b9a\u4e49\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u6743\u9650\u540d\u79f0                                       |                                                                                    |\n| INSTALL\\_FAILED\\_NO\\_MATCHING\\_ABIS                                 | \u5e94\u7528\u5305\u542b\u8bbe\u5907\u7684\u5e94\u7528\u7a0b\u5e8f\u4e8c\u8fdb\u5236\u63a5\u53e3\u4e0d\u652f\u6301\u7684 native code                     |                                                                                    |\n| INSTALL\\_CANCELED\\_BY\\_USER                                         | \u5e94\u7528\u5b89\u88c5\u9700\u8981\u5728\u8bbe\u5907\u4e0a\u786e\u8ba4\uff0c\u4f46\u672a\u64cd\u4f5c\u8bbe\u5907\u6216\u70b9\u4e86\u53d6\u6d88                         | \u5728\u8bbe\u5907\u4e0a\u540c\u610f\u5b89\u88c5                                                                   |\n| INSTALL\\_FAILED\\_ACWF\\_INCOMPATIBLE                                 | \u5e94\u7528\u7a0b\u5e8f\u4e0e\u8bbe\u5907\u4e0d\u517c\u5bb9                                                     |                                                                                    |\n| INSTALL_FAILED_TEST_ONLY                                            | APK \u6587\u4ef6\u662f\u4f7f\u7528 Android Studio \u76f4\u63a5 RUN \u7f16\u8bd1\u51fa\u6765\u7684\u6587\u4ef6                    | \u901a\u8fc7 Gradle \u7684 assembleDebug \u6216 assembleRelease \u91cd\u65b0\u7f16\u8bd1\uff0c\u6216\u8005 Generate Signed APK |\n| INSTALL_FAILED_ABORTED: User rejected permissions                   | \u5e94\u7528\u5b89\u88c5\u6709\u98ce\u9669\u63d0\u793a\u9700\u8981\u7528\u6237\u5728\u8bbe\u5907\u4e0a\u786e\u8ba4\uff0c\u4f46\u7528\u6237\u672a\u64cd\u4f5c\u8bbe\u5907\u6216\u70b9\u4e86\u53d6\u6d88       | \u5728\u8bbe\u5907\u4e0a\u540c\u610f\u5b89\u88c5                                                                   |\n| does not contain AndroidManifest.xml                                | \u65e0\u6548\u7684 APK \u6587\u4ef6                                                          |                                                                                    |\n| is not a valid zip file                                             | \u65e0\u6548\u7684 APK \u6587\u4ef6                                                          |                                                                                    |\n| Offline                                                             | \u8bbe\u5907\u672a\u8fde\u63a5\u6210\u529f                                                           | \u5148\u5c06\u8bbe\u5907\u4e0e adb \u8fde\u63a5\u6210\u529f                                                            |\n| unauthorized                                                        | \u8bbe\u5907\u672a\u6388\u6743\u5141\u8bb8\u8c03\u8bd5                                                       |                                                                                    |\n| error: device not found                                             | \u6ca1\u6709\u8fde\u63a5\u6210\u529f\u7684\u8bbe\u5907                                                       | \u5148\u5c06\u8bbe\u5907\u4e0e adb \u8fde\u63a5\u6210\u529f                                                            |\n| protocol failure                                                    | \u8bbe\u5907\u5df2\u65ad\u5f00\u8fde\u63a5                                                           | \u5148\u5c06\u8bbe\u5907\u4e0e adb \u8fde\u63a5\u6210\u529f                                                            |\n| Unknown option: -s                                                  | Android 2.2 \u4ee5\u4e0b\u4e0d\u652f\u6301\u5b89\u88c5\u5230 sdcard                                      | \u4e0d\u4f7f\u7528 `-s` \u53c2\u6570                                                                   |\n| No space left on device                                             | \u7a7a\u95f4\u4e0d\u8db3                                                                 | \u6e05\u7406\u7a7a\u95f4                                                                           |\n| Permission denied ... sdcard ...                                    | sdcard \u4e0d\u53ef\u7528                                                            |                                                                                    |\n| signatures do not match the previously installed version; ignoring! | \u5df2\u5b89\u88c5\u8be5\u5e94\u7528\u4e14\u7b7e\u540d\u4e0d\u4e00\u81f4                                                 | \u5148\u5378\u8f7d\u8bbe\u5907\u4e0a\u7684\u8be5\u5e94\u7528\uff0c\u518d\u5b89\u88c5                                                       |\n\n\u53c2\u8003\uff1a[PackageManager.java](https://github.com/android/platform_frameworks_base/blob/master/core%2Fjava%2Fandroid%2Fcontent%2Fpm%2FPackageManager.java)\n\n*`adb install` \u5185\u90e8\u539f\u7406\u7b80\u4ecb*\n\n`adb install` \u5b9e\u9645\u662f\u5206\u4e09\u6b65\u5b8c\u6210\uff1a\n\n1. push apk \u6587\u4ef6\u5230 /data/local/tmp\u3002\n\n2. \u8c03\u7528 pm install \u5b89\u88c5\u3002\n\n3. \u5220\u9664 /data/local/tmp \u4e0b\u7684\u5bf9\u5e94 apk \u6587\u4ef6\u3002\n\n\u6240\u4ee5\uff0c\u5fc5\u8981\u7684\u65f6\u5019\u4e5f\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2a\u6b65\u9aa4\uff0c\u624b\u52a8\u5206\u6b65\u6267\u884c\u5b89\u88c5\u8fc7\u7a0b\u3002\n\n### \u5378\u8f7d\u5e94\u7528\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb uninstall [-k] <packagename>\n```\n\n`<packagename>` \u8868\u793a\u5e94\u7528\u7684\u5305\u540d\uff0c`-k` \u53c2\u6570\u53ef\u9009\uff0c\u8868\u793a\u5378\u8f7d\u5e94\u7528\u4f46\u4fdd\u7559\u6570\u636e\u548c\u7f13\u5b58\u76ee\u5f55\u3002\n\n\u547d\u4ee4\u793a\u4f8b\uff1a\n\n```sh\nadb uninstall com.qihoo360.mobilesafe\n```\n\n\u8868\u793a\u5378\u8f7d 360 \u624b\u673a\u536b\u58eb\u3002\n\n### \u505c\u7528/\u542f\u7528\u5e94\u7528\n\n\u67e5\u770b\u542f\u7528\u7684\u5e94\u7528\u5217\u8868\uff1a\n\n```sh\nadb shell pm list packages -e\n```\n\n#### \u505c\u7528\u5e94\u7528\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell pm disable-user <packagename>\n```\n\n\u547d\u4ee4\u793a\u4f8b\uff1a\n\n```sh\nadb shell pm disable-user com.qihoo360.mobilesafe\n```\n\n#### \u542f\u7528\u5e94\u7528\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell pm enable <packagename>\n```\n\n\u547d\u4ee4\u793a\u4f8b\uff1a\n\n```sh\nadb shell pm enable com.qihoo360.mobilesafe\n```\n\n### \u6e05\u9664\u5e94\u7528\u6570\u636e\u4e0e\u7f13\u5b58\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell pm clear <packagename>\n```\n\n`<packagename>` \u8868\u793a\u5e94\u7528\u540d\u5305\uff0c\u8fd9\u6761\u547d\u4ee4\u7684\u6548\u679c\u76f8\u5f53\u4e8e\u5728\u8bbe\u7f6e\u91cc\u7684\u5e94\u7528\u4fe1\u606f\u754c\u9762\u70b9\u51fb\u4e86\u300c\u6e05\u9664\u7f13\u5b58\u300d\u548c\u300c\u6e05\u9664\u6570\u636e\u300d\u3002\n\n\u547d\u4ee4\u793a\u4f8b\uff1a\n\n```sh\nadb shell pm clear com.qihoo360.mobilesafe\n```\n\n\u8868\u793a\u6e05\u9664 360 \u624b\u673a\u536b\u58eb\u7684\u6570\u636e\u548c\u7f13\u5b58\u3002\n\n### \u67e5\u770b\u524d\u53f0 Activity\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell dumpsys activity activities | grep mResumedActivity\n```\n\n\u8f93\u51fa\u793a\u4f8b\uff1a\n\n```sh\nmResumedActivity: ActivityRecord{8079d7e u0 com.cyanogenmod.trebuchet/com.android.launcher3.Launcher t42}\n```\n\n\u5176\u4e2d\u7684 `com.cyanogenmod.trebuchet/com.android.launcher3.Launcher` \u5c31\u662f\u5f53\u524d\u5904\u4e8e\u524d\u53f0\u7684 Activity\u3002\n\n*\u5728 Windows \u4e0b\u4ee5\u4e0a\u547d\u4ee4\u53ef\u80fd\u4e0d\u53ef\u7528\uff0c\u53ef\u4ee5\u5c1d\u8bd5 `adb shell dumpsys activity activities | findstr mResumedActivity` \u6216 `adb shell \"dumpsys activity activities | grep mResumedActivity\"`\u3002*\n\n### \u67e5\u770b\u6b63\u5728\u8fd0\u884c\u7684 Services\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell dumpsys activity services [<packagename>]\n```\n\n`<packagename>` \u53c2\u6570\u4e0d\u662f\u5fc5\u987b\u7684\uff0c\u6307\u5b9a `<packagename>` \u8868\u793a\u67e5\u770b\u4e0e\u67d0\u4e2a\u5305\u540d\u76f8\u5173\u7684 Services\uff0c\u4e0d\u6307\u5b9a\u8868\u793a\u67e5\u770b\u6240\u6709 Services\u3002\n\n`<packagename>` \u4e0d\u4e00\u5b9a\u8981\u7ed9\u51fa\u5b8c\u6574\u7684\u5305\u540d\uff0c\u6bd4\u5982\u8fd0\u884c `adb shell dumpsys activity services org.mazhuang`\uff0c\u90a3\u4e48\u5305\u540d `org.mazhuang.demo1`\u3001`org.mazhuang.demo2` \u548c `org.mazhuang123` \u7b49\u76f8\u5173\u7684 Services \u90fd\u4f1a\u5217\u51fa\u6765\u3002\n\n### \u67e5\u770b\u5e94\u7528\u8be6\u7ec6\u4fe1\u606f\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell dumpsys package <packagename>\n```\n\n\u8f93\u51fa\u4e2d\u5305\u542b\u5f88\u591a\u4fe1\u606f\uff0c\u5305\u62ec Activity Resolver Table\u3001Registered ContentProviders\u3001\u5305\u540d\u3001userId\u3001\u5b89\u88c5\u540e\u7684\u6587\u4ef6\u8d44\u6e90\u4ee3\u7801\u7b49\u8def\u5f84\u3001\u7248\u672c\u4fe1\u606f\u3001\u6743\u9650\u4fe1\u606f\u548c\u6388\u4e88\u72b6\u6001\u3001\u7b7e\u540d\u7248\u672c\u4fe1\u606f\u7b49\u3002\n\n`<packagename>` \u8868\u793a\u5e94\u7528\u5305\u540d\u3002\n\n\u8f93\u51fa\u793a\u4f8b\uff1a\n\n```sh\nActivity Resolver Table:\n  Non-Data Actions:\n      android.intent.action.MAIN:\n        5b4cba8 org.mazhuang.guanggoo/.SplashActivity filter 5ec9dcc\n          Action: \"android.intent.action.MAIN\"\n          Category: \"android.intent.category.LAUNCHER\"\n          AutoVerify=false\n\nRegistered ContentProviders:\n  org.mazhuang.guanggoo/com.tencent.bugly.beta.utils.BuglyFileProvider:\n    Provider{7a3c394 org.mazhuang.guanggoo/com.tencent.bugly.beta.utils.BuglyFileProvider}\n\nContentProvider Authorities:\n  [org.mazhuang.guanggoo.fileProvider]:\n    Provider{7a3c394 org.mazhuang.guanggoo/com.tencent.bugly.beta.utils.BuglyFileProvider}\n      applicationInfo=ApplicationInfo{7754242 org.mazhuang.guanggoo}\n\nKey Set Manager:\n  [org.mazhuang.guanggoo]\n      Signing KeySets: 501\n\nPackages:\n  Package [org.mazhuang.guanggoo] (c1d7f):\n    userId=10394\n    pkg=Package{55f714c org.mazhuang.guanggoo}\n    codePath=/data/app/org.mazhuang.guanggoo-2\n    resourcePath=/data/app/org.mazhuang.guanggoo-2\n    legacyNativeLibraryDir=/data/app/org.mazhuang.guanggoo-2/lib\n    primaryCpuAbi=null\n    secondaryCpuAbi=null\n    versionCode=74 minSdk=15 targetSdk=25\n    versionName=1.1.74\n    splits=[base]\n    apkSigningVersion=2\n    applicationInfo=ApplicationInfo{7754242 org.mazhuang.guanggoo}\n    flags=[ HAS_CODE ALLOW_CLEAR_USER_DATA ALLOW_BACKUP ]\n    privateFlags=[ RESIZEABLE_ACTIVITIES ]\n    dataDir=/data/user/0/org.mazhuang.guanggoo\n    supportsScreens=[small, medium, large, xlarge, resizeable, anyDensity]\n    timeStamp=2017-10-22 23:50:53\n    firstInstallTime=2017-10-22 23:50:25\n    lastUpdateTime=2017-10-22 23:50:55\n    installerPackageName=com.miui.packageinstaller\n    signatures=PackageSignatures{af09595 [53c7caa2]}\n    installPermissionsFixed=true installStatus=1\n    pkgFlags=[ HAS_CODE ALLOW_CLEAR_USER_DATA ALLOW_BACKUP ]\n    requested permissions:\n      android.permission.READ_PHONE_STATE\n      android.permission.INTERNET\n      android.permission.ACCESS_NETWORK_STATE\n      android.permission.ACCESS_WIFI_STATE\n      android.permission.READ_LOGS\n      android.permission.WRITE_EXTERNAL_STORAGE\n      android.permission.READ_EXTERNAL_STORAGE\n    install permissions:\n      android.permission.INTERNET: granted=true\n      android.permission.ACCESS_NETWORK_STATE: granted=true\n      android.permission.ACCESS_WIFI_STATE: granted=true\n    User 0: ceDataInode=1155675 installed=true hidden=false suspended=false stopped=true notLaunched=false enabled=0\n      gids=[3003]\n      runtime permissions:\n        android.permission.READ_EXTERNAL_STORAGE: granted=true\n        android.permission.READ_PHONE_STATE: granted=true\n        android.permission.WRITE_EXTERNAL_STORAGE: granted=true\n    User 999: ceDataInode=0 installed=false hidden=false suspended=false stopped=true notLaunched=true enabled=0\n      gids=[3003]\n      runtime permissions:\n\n\nDexopt state:\n  [org.mazhuang.guanggoo]\n    Instruction Set: arm64\n      path: /data/app/org.mazhuang.guanggoo-2/base.apk\n      status: /data/app/org.mazhuang.guanggoo-2/oat/arm64/base.odex [compilation_filter=speed-profile, status=kOatUpToDa\n      te]\n```\n\n### \u67e5\u770b\u5e94\u7528\u5b89\u88c5\u8def\u5f84\n\n\u547d\u4ee4:\n\n```\nadb shell pm path <PACKAGE>\n```\n\n\u8f93\u51fa\u5e94\u7528\u5b89\u88c5\u8def\u5f84\n\n\u8f93\u51fa\u793a\u4f8b:\n\n```\nadb shell pm path ecarx.weather\n\npackage:/data/app/ecarx.weather-1.apk\n```\n\n## \u4e0e\u5e94\u7528\u4ea4\u4e92\n\n\u4e3b\u8981\u662f\u4f7f\u7528 `am <command>` \u547d\u4ee4\uff0c\u5e38\u7528\u7684 `<command>` \u5982\u4e0b\uff1a\n\n| command                           | \u7528\u9014                            |\n|-----------------------------------|---------------------------------|\n| `start [options] <INTENT>`        | \u542f\u52a8 `<INTENT>` \u6307\u5b9a\u7684 Activity |\n| `startservice [options] <INTENT>` | \u542f\u52a8 `<INTENT>` \u6307\u5b9a\u7684 Service  |\n| `broadcast [options] <INTENT>`    | \u53d1\u9001 `<INTENT>` \u6307\u5b9a\u7684\u5e7f\u64ad      |\n| `force-stop <packagename>`        | \u505c\u6b62 `<packagename>` \u76f8\u5173\u7684\u8fdb\u7a0b |\n\n`<INTENT>` \u53c2\u6570\u5f88\u7075\u6d3b\uff0c\u548c\u5199 Android \u7a0b\u5e8f\u65f6\u4ee3\u7801\u91cc\u7684 Intent \u76f8\u5bf9\u5e94\u3002\n\n\u7528\u4e8e\u51b3\u5b9a intent \u5bf9\u8c61\u7684\u9009\u9879\u5982\u4e0b\uff1a\n\n| \u53c2\u6570             | \u542b\u4e49                                                                                        |\n|------------------|---------------------------------------------------------------------------------------------|\n| `-a <ACTION>`    | \u6307\u5b9a action\uff0c\u6bd4\u5982 `android.intent.action.VIEW`                                              |\n| `-c <CATEGORY>`  | \u6307\u5b9a category\uff0c\u6bd4\u5982 `android.intent.category.APP_CONTACTS`                                  |\n| `-n <COMPONENT>` | \u6307\u5b9a\u5b8c\u6574 component \u540d\uff0c\u7528\u4e8e\u660e\u786e\u6307\u5b9a\u542f\u52a8\u54ea\u4e2a Activity\uff0c\u5982 `com.example.app/.ExampleActivity` |\n\n`<INTENT>` \u91cc\u8fd8\u80fd\u5e26\u6570\u636e\uff0c\u5c31\u50cf\u5199\u4ee3\u7801\u65f6\u7684 Bundle \u4e00\u6837\uff1a\n\n| \u53c2\u6570                                                          | \u542b\u4e49                                   |\n|---------------------------------------------------------------|----------------------------------------|\n| `--esn <EXTRA_KEY>`                                           | null \u503c\uff08\u53ea\u6709 key \u540d\uff09                 |\n| `-e|--es <EXTRA_KEY> <EXTRA_STRING_VALUE>`                    | string \u503c                              |\n| `--ez <EXTRA_KEY> <EXTRA_BOOLEAN_VALUE>`                      | boolean \u503c                             |\n| `--ei <EXTRA_KEY> <EXTRA_INT_VALUE>`                          | integer \u503c                             |\n| `--el <EXTRA_KEY> <EXTRA_LONG_VALUE>`                         | long \u503c                                |\n| `--ef <EXTRA_KEY> <EXTRA_FLOAT_VALUE>`                        | float \u503c                               |\n| `--eu <EXTRA_KEY> <EXTRA_URI_VALUE>`                          | URI                                    |\n| `--ecn <EXTRA_KEY> <EXTRA_COMPONENT_NAME_VALUE>`              | component name                         |\n| `--eia <EXTRA_KEY> <EXTRA_INT_VALUE>[,<EXTRA_INT_VALUE...]`   | integer \u6570\u7ec4                           |\n| `--ela <EXTRA_KEY> <EXTRA_LONG_VALUE>[,<EXTRA_LONG_VALUE...]` | long \u6570\u7ec4                              |\n\n### \u542f\u52a8\u5e94\u7528/ \u8c03\u8d77 Activity\n> \u6307\u5b9aActivity\u540d\u79f0\u542f\u52a8\n\n\u547d\u4ee4\u683c\u5f0f\uff1a\n\n```sh\nadb shell am start [options] <INTENT>\n```\n\n\u4f8b\u5982\uff1a\n\n```sh\nadb shell am start -n com.tencent.mm/.ui.LauncherUI\n```\n\n\u8868\u793a\u8c03\u8d77\u5fae\u4fe1\u4e3b\u754c\u9762\u3002\n\n```sh\nadb shell am start -n org.mazhuang.boottimemeasure/.MainActivity --es \"toast\" \"hello, world\"\n```\n\n\u8868\u793a\u8c03\u8d77 `org.mazhuang.boottimemeasure/.MainActivity` \u5e76\u4f20\u7ed9\u5b83 string \u6570\u636e\u952e\u503c\u5bf9 `toast - hello, world`\u3002\n\n> \u4e0d\u6307\u5b9aActivity\u540d\u79f0\u542f\u52a8\uff08\u542f\u52a8\u4e3bActivity\uff09\n\n\u547d\u4ee4\u683c\u5f0f\uff1a\n\n```sh\nadb shell monkey -p <packagename> -c android.intent.category.LAUNCHER 1\n```\n\u4f8b\u5982\uff1a\n\n```sh\nadb shell monkey -p com.tencent.mm -c android.intent.category.LAUNCHER 1\n```\n\n\u8868\u793a\u8c03\u8d77\u5fae\u4fe1\u4e3b\u754c\u9762\u3002\n\n### \u8c03\u8d77 Service\n\n\u547d\u4ee4\u683c\u5f0f\uff1a\n\n```sh\nadb shell am startservice [options] <INTENT>\n```\n\n\u4f8b\u5982\uff1a\n\n```sh\nadb shell am startservice -n com.tencent.mm/.plugin.accountsync.model.AccountAuthenticatorService\n```\n\n\u8868\u793a\u8c03\u8d77\u5fae\u4fe1\u7684\u67d0 Service\u3002\n\n\u53e6\u5916\u4e00\u4e2a\u5178\u578b\u7684\u7528\u4f8b\u662f\u5982\u679c\u8bbe\u5907\u4e0a\u539f\u672c\u5e94\u8be5\u663e\u793a\u865a\u62df\u6309\u952e\u4f46\u662f\u6ca1\u6709\u663e\u793a\uff0c\u53ef\u4ee5\u8bd5\u8bd5\u8fd9\u4e2a\uff1a\n\n```sh\nadb shell am startservice -n com.android.systemui/.SystemUIService\n```\n\n### \u505c\u6b62 Service\n\n\u547d\u4ee4\u683c\u5f0f\uff1a\n\n```sh\nadb shell am stopservice [options] <INTENT>\n```\n\n### \u53d1\u9001\u5e7f\u64ad\n\n\u547d\u4ee4\u683c\u5f0f\uff1a\n\n```sh\nadb shell am broadcast [options] <INTENT>\n```\n\n\u53ef\u4ee5\u5411\u6240\u6709\u7ec4\u4ef6\u5e7f\u64ad\uff0c\u4e5f\u53ef\u4ee5\u53ea\u5411\u6307\u5b9a\u7ec4\u4ef6\u5e7f\u64ad\u3002\n\n\u4f8b\u5982\uff0c\u5411\u6240\u6709\u7ec4\u4ef6\u5e7f\u64ad `BOOT_COMPLETED`\uff1a\n\n```sh\nadb shell am broadcast -a android.intent.action.BOOT_COMPLETED\n```\n\n\u53c8\u4f8b\u5982\uff0c\u53ea\u5411 `org.mazhuang.boottimemeasure/.BootCompletedReceiver` \u5e7f\u64ad `BOOT_COMPLETED`\uff1a\n\n```sh\nadb shell am broadcast -a android.intent.action.BOOT_COMPLETED -n org.mazhuang.boottimemeasure/.BootCompletedReceiver\n```\n\n\u8fd9\u7c7b\u7528\u6cd5\u5728\u6d4b\u8bd5\u7684\u65f6\u5019\u5f88\u5b9e\u7528\uff0c\u6bd4\u5982\u67d0\u4e2a\u5e7f\u64ad\u7684\u573a\u666f\u5f88\u96be\u5236\u9020\uff0c\u53ef\u4ee5\u8003\u8651\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u6765\u53d1\u9001\u5e7f\u64ad\u3002\n\n\u65e2\u80fd\u53d1\u9001\u7cfb\u7edf\u9884\u5b9a\u4e49\u7684\u5e7f\u64ad\uff0c\u4e5f\u80fd\u53d1\u9001\u81ea\u5b9a\u4e49\u5e7f\u64ad\u3002\u5982\u4e0b\u662f\u90e8\u5206\u7cfb\u7edf\u9884\u5b9a\u4e49\u5e7f\u64ad\u53ca\u6b63\u5e38\u89e6\u53d1\u65f6\u673a\uff1a\n\n| action                                          | \u89e6\u53d1\u65f6\u673a                                      |\n|-------------------------------------------------|-----------------------------------------------|\n| android.net.conn.CONNECTIVITY_CHANGE            | \u7f51\u7edc\u8fde\u63a5\u53d1\u751f\u53d8\u5316                              |\n| android.intent.action.SCREEN_ON                 | \u5c4f\u5e55\u70b9\u4eae                                      |\n| android.intent.action.SCREEN_OFF                | \u5c4f\u5e55\u7184\u706d                                      |\n| android.intent.action.BATTERY_LOW               | \u7535\u91cf\u4f4e\uff0c\u4f1a\u5f39\u51fa\u7535\u91cf\u4f4e\u63d0\u793a\u6846                    |\n| android.intent.action.BATTERY_OKAY              | \u7535\u91cf\u6062\u590d\u4e86                                    |\n| android.intent.action.BOOT_COMPLETED            | \u8bbe\u5907\u542f\u52a8\u5b8c\u6bd5                                  |\n| android.intent.action.DEVICE_STORAGE_LOW        | \u5b58\u50a8\u7a7a\u95f4\u8fc7\u4f4e                                  |\n| android.intent.action.DEVICE_STORAGE_OK         | \u5b58\u50a8\u7a7a\u95f4\u6062\u590d                                  |\n| android.intent.action.PACKAGE_ADDED             | \u5b89\u88c5\u4e86\u65b0\u7684\u5e94\u7528                                |\n| android.net.wifi.STATE_CHANGE                   | WiFi \u8fde\u63a5\u72b6\u6001\u53d1\u751f\u53d8\u5316                         |\n| android.net.wifi.WIFI_STATE_CHANGED             | WiFi \u72b6\u6001\u53d8\u4e3a\u542f\u7528/\u5173\u95ed/\u6b63\u5728\u542f\u52a8/\u6b63\u5728\u5173\u95ed/\u672a\u77e5 |\n| android.intent.action.BATTERY_CHANGED           | \u7535\u6c60\u7535\u91cf\u53d1\u751f\u53d8\u5316                              |\n| android.intent.action.INPUT_METHOD_CHANGED      | \u7cfb\u7edf\u8f93\u5165\u6cd5\u53d1\u751f\u53d8\u5316                            |\n| android.intent.action.ACTION_POWER_CONNECTED    | \u5916\u90e8\u7535\u6e90\u8fde\u63a5                                  |\n| android.intent.action.ACTION_POWER_DISCONNECTED | \u5916\u90e8\u7535\u6e90\u65ad\u5f00\u8fde\u63a5                              |\n| android.intent.action.DREAMING_STARTED          | \u7cfb\u7edf\u5f00\u59cb\u4f11\u7720                                  |\n| android.intent.action.DREAMING_STOPPED          | \u7cfb\u7edf\u505c\u6b62\u4f11\u7720                                  |\n| android.intent.action.WALLPAPER_CHANGED         | \u58c1\u7eb8\u53d1\u751f\u53d8\u5316                                  |\n| android.intent.action.HEADSET_PLUG              | \u63d2\u5165\u8033\u673a                                      |\n| android.intent.action.MEDIA_UNMOUNTED           | \u5378\u8f7d\u5916\u90e8\u4ecb\u8d28                                  |\n| android.intent.action.MEDIA_MOUNTED             | \u6302\u8f7d\u5916\u90e8\u4ecb\u8d28                                  |\n| android.os.action.POWER_SAVE_MODE_CHANGED       | \u7701\u7535\u6a21\u5f0f\u5f00\u542f                                  |\n\n*\uff08\u4ee5\u4e0a\u5e7f\u64ad\u5747\u53ef\u4f7f\u7528 adb \u89e6\u53d1\uff09*\n\n### \u5f3a\u5236\u505c\u6b62\u5e94\u7528\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell am force-stop <packagename>\n```\n\n\u547d\u4ee4\u793a\u4f8b\uff1a\n\n```sh\nadb shell am force-stop com.qihoo360.mobilesafe\n```\n\n\u8868\u793a\u505c\u6b62 360 \u5b89\u5168\u536b\u58eb\u7684\u4e00\u5207\u8fdb\u7a0b\u4e0e\u670d\u52a1\u3002\n\n### \u6536\u7d27\u5185\u5b58\n\n\u547d\u4ee4\uff1a\n```sh\nadb shell am send-trim-memory  <pid> <level>\n```\n\npid: \u8fdb\u7a0b ID\nlevel:\n\tHIDDEN\u3001RUNNING_MODERATE\u3001BACKGROUND\u3001\n\tRUNNING_LOW\u3001MODERATE\u3001RUNNING_CRITICAL\u3001COMPLETE\n\n\u547d\u4ee4\u793a\u4f8b\uff1a\n\n```sh\nadb shell am send-trim-memory 12345 RUNNING_LOW\n```\n\n\u8868\u793a\u5411 pid=12345 \u7684\u8fdb\u7a0b\uff0c\u53d1\u51fa level=RUNNING_LOW \u7684\u6536\u7d27\u5185\u5b58\u547d\u4ee4\u3002\n\n## \u6587\u4ef6\u7ba1\u7406\n\n### \u590d\u5236\u8bbe\u5907\u91cc\u7684\u6587\u4ef6\u5230\u7535\u8111\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb pull <\u8bbe\u5907\u91cc\u7684\u6587\u4ef6\u8def\u5f84> [\u7535\u8111\u4e0a\u7684\u76ee\u5f55]\n```\n\n\u5176\u4e2d `\u7535\u8111\u4e0a\u7684\u76ee\u5f55` \u53c2\u6570\u53ef\u4ee5\u7701\u7565\uff0c\u9ed8\u8ba4\u590d\u5236\u5230\u5f53\u524d\u76ee\u5f55\u3002\n\n\u4f8b\uff1a\n\n```sh\nadb pull /sdcard/sr.mp4 ~/tmp/\n```\n\n*\u5c0f\u6280\u5de7\uff1a*\u8bbe\u5907\u4e0a\u7684\u6587\u4ef6\u8def\u5f84\u53ef\u80fd\u9700\u8981 root \u6743\u9650\u624d\u80fd\u8bbf\u95ee\uff0c\u5982\u679c\u4f60\u7684\u8bbe\u5907\u5df2\u7ecf root \u8fc7\uff0c\u53ef\u4ee5\u5148\u4f7f\u7528 `adb shell` \u548c `su` \u547d\u4ee4\u5728 adb shell \u91cc\u83b7\u53d6 root \u6743\u9650\u540e\uff0c\u5148 `cp /path/on/device /sdcard/filename` \u5c06\u6587\u4ef6\u590d\u5236\u5230 sdcard\uff0c\u7136\u540e `adb pull /sdcard/filename /path/on/pc`\u3002\n\n### \u590d\u5236\u7535\u8111\u91cc\u7684\u6587\u4ef6\u5230\u8bbe\u5907\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb push <\u7535\u8111\u4e0a\u7684\u6587\u4ef6\u8def\u5f84> <\u8bbe\u5907\u91cc\u7684\u76ee\u5f55>\n```\n\n\u4f8b\uff1a\n\n```sh\nadb push ~/sr.mp4 /sdcard/\n```\n\n*\u5c0f\u6280\u5de7\uff1a*\u8bbe\u5907\u4e0a\u7684\u6587\u4ef6\u8def\u5f84\u666e\u901a\u6743\u9650\u53ef\u80fd\u65e0\u6cd5\u76f4\u63a5\u5199\u5165\uff0c\u5982\u679c\u4f60\u7684\u8bbe\u5907\u5df2\u7ecf root \u8fc7\uff0c\u53ef\u4ee5\u5148 `adb push /path/on/pc /sdcard/filename`\uff0c\u7136\u540e `adb shell` \u548c `su` \u5728 adb shell \u91cc\u83b7\u53d6 root \u6743\u9650\u540e\uff0c`cp /sdcard/filename /path/on/device`\u3002\n\n## \u6a21\u62df\u6309\u952e/\u8f93\u5165\n\n\u5728 `adb shell` \u91cc\u6709\u4e2a\u5f88\u5b9e\u7528\u7684\u547d\u4ee4\u53eb `input`\uff0c\u901a\u8fc7\u5b83\u53ef\u4ee5\u505a\u4e00\u4e9b\u6709\u8da3\u7684\u4e8b\u60c5\u3002\n\n`input` \u547d\u4ee4\u7684\u5b8c\u6574 help \u4fe1\u606f\u5982\u4e0b\uff1a\n\n```sh\nUsage: input [<source>] <command> [<arg>...]\n\nThe sources are:\n      mouse\n      keyboard\n      joystick\n      touchnavigation\n      touchpad\n      trackball\n      stylus\n      dpad\n      gesture\n      touchscreen\n      gamepad\n\nThe commands and default sources are:\n      text <string> (Default: touchscreen)\n      keyevent [--longpress] <key code number or name> ... (Default: keyboard)\n      tap <x> <y> (Default: touchscreen)\n      swipe <x1> <y1> <x2> <y2> [duration(ms)] (Default: touchscreen)\n      press (Default: trackball)\n      roll <dx> <dy> (Default: trackball)\n```\n\n\u6bd4\u5982\u4f7f\u7528 `adb shell input keyevent <keycode>` \u547d\u4ee4\uff0c\u4e0d\u540c\u7684 keycode \u80fd\u5b9e\u73b0\u4e0d\u540c\u7684\u529f\u80fd\uff0c\u5b8c\u6574\u7684 keycode \u5217\u8868\u8be6\u89c1 [KeyEvent](https://developer.android.com/reference/android/view/KeyEvent.html)\uff0c\u6458\u5f15\u90e8\u5206\u6211\u89c9\u5f97\u6709\u610f\u601d\u7684\u5982\u4e0b\uff1a\n\n| keycode | \u542b\u4e49                           |\n|---------|--------------------------------|\n| 3       | HOME \u952e                        |\n| 4       | \u8fd4\u56de\u952e                         |\n| 5       | \u6253\u5f00\u62e8\u53f7\u5e94\u7528                   |\n| 6       | \u6302\u65ad\u7535\u8bdd                       |\n| 24      | \u589e\u52a0\u97f3\u91cf                       |\n| 25      | \u964d\u4f4e\u97f3\u91cf                       |\n| 26      | \u7535\u6e90\u952e                         |\n| 27      | \u62cd\u7167\uff08\u9700\u8981\u5728\u76f8\u673a\u5e94\u7528\u91cc\uff09       |\n| 64      | \u6253\u5f00\u6d4f\u89c8\u5668                     |\n| 82      | \u83dc\u5355\u952e                         |\n| 85      | \u64ad\u653e/\u6682\u505c                      |\n| 86      | \u505c\u6b62\u64ad\u653e                       |\n| 87      | \u64ad\u653e\u4e0b\u4e00\u9996                     |\n| 88      | \u64ad\u653e\u4e0a\u4e00\u9996                     |\n| 122     | \u79fb\u52a8\u5149\u6807\u5230\u884c\u9996\u6216\u5217\u8868\u9876\u90e8       |\n| 123     | \u79fb\u52a8\u5149\u6807\u5230\u884c\u672b\u6216\u5217\u8868\u5e95\u90e8       |\n| 126     | \u6062\u590d\u64ad\u653e                       |\n| 127     | \u6682\u505c\u64ad\u653e                       |\n| 164     | \u9759\u97f3                           |\n| 176     | \u6253\u5f00\u7cfb\u7edf\u8bbe\u7f6e                   |\n| 187     | \u5207\u6362\u5e94\u7528                       |\n| 207     | \u6253\u5f00\u8054\u7cfb\u4eba                     |\n| 208     | \u6253\u5f00\u65e5\u5386                       |\n| 209     | \u6253\u5f00\u97f3\u4e50                       |\n| 210     | \u6253\u5f00\u8ba1\u7b97\u5668                     |\n| 220     | \u964d\u4f4e\u5c4f\u5e55\u4eae\u5ea6                   |\n| 221     | \u63d0\u9ad8\u5c4f\u5e55\u4eae\u5ea6                   |\n| 223     | \u7cfb\u7edf\u4f11\u7720                       |\n| 224     | \u70b9\u4eae\u5c4f\u5e55                       |\n| 231     | \u6253\u5f00\u8bed\u97f3\u52a9\u624b                   |\n| 276     | \u5982\u679c\u6ca1\u6709 wakelock \u5219\u8ba9\u7cfb\u7edf\u4f11\u7720 |\n\n\u4e0b\u9762\u662f `input` \u547d\u4ee4\u7684\u4e00\u4e9b\u7528\u6cd5\u4e3e\u4f8b\u3002\n\n### \u7535\u6e90\u952e\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell input keyevent 26\n```\n\n\u6267\u884c\u6548\u679c\u76f8\u5f53\u4e8e\u6309\u7535\u6e90\u952e\u3002\n\n### \u83dc\u5355\u952e\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell input keyevent 82\n```\n\n### HOME \u952e\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell input keyevent 3\n```\n\n### \u8fd4\u56de\u952e\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell input keyevent 4\n```\n\n### \u97f3\u91cf\u63a7\u5236\n\n\u589e\u52a0\u97f3\u91cf\uff1a\n\n```sh\nadb shell input keyevent 24\n```\n\n\u964d\u4f4e\u97f3\u91cf\uff1a\n\n```sh\nadb shell input keyevent 25\n```\n\n\u9759\u97f3\uff1a\n\n```sh\nadb shell input keyevent 164\n```\n\n### \u5a92\u4f53\u63a7\u5236\n\n\u64ad\u653e/\u6682\u505c\uff1a\n\n```sh\nadb shell input keyevent 85\n```\n\n\u505c\u6b62\u64ad\u653e\uff1a\n\n```sh\nadb shell input keyevent 86\n```\n\n\u64ad\u653e\u4e0b\u4e00\u9996\uff1a\n\n```sh\nadb shell input keyevent 87\n```\n\n\u64ad\u653e\u4e0a\u4e00\u9996\uff1a\n\n```sh\nadb shell input keyevent 88\n```\n\n\u6062\u590d\u64ad\u653e\uff1a\n\n```sh\nadb shell input keyevent 126\n```\n\n\u6682\u505c\u64ad\u653e\uff1a\n\n```sh\nadb shell input keyevent 127\n```\n\n### \u70b9\u4eae/\u7184\u706d\u5c4f\u5e55\n\n\u53ef\u4ee5\u901a\u8fc7\u4e0a\u6587\u8bb2\u8ff0\u8fc7\u7684\u6a21\u62df\u7535\u6e90\u952e\u6765\u5207\u6362\u70b9\u4eae\u548c\u7184\u706d\u5c4f\u5e55\uff0c\u4f46\u5982\u679c\u660e\u786e\u5730\u60f3\u8981\u70b9\u4eae\u6216\u8005\u7184\u706d\u5c4f\u5e55\uff0c\u90a3\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u65b9\u6cd5\u3002\n\n\u70b9\u4eae\u5c4f\u5e55\uff1a\n\n```sh\nadb shell input keyevent 224\n```\n\n\u7184\u706d\u5c4f\u5e55\uff1a\n\n```sh\nadb shell input keyevent 223\n```\n\n### \u6ed1\u52a8\u89e3\u9501\n\n\u5982\u679c\u9501\u5c4f\u6ca1\u6709\u5bc6\u7801\uff0c\u662f\u901a\u8fc7\u6ed1\u52a8\u624b\u52bf\u89e3\u9501\uff0c\u90a3\u4e48\u53ef\u4ee5\u901a\u8fc7 `input swipe` \u6765\u89e3\u9501\u3002\n\n\u547d\u4ee4\uff08\u53c2\u6570\u4ee5\u673a\u578b Nexus 5\uff0c\u5411\u4e0a\u6ed1\u52a8\u624b\u52bf\u89e3\u9501\u4e3e\u4f8b\uff09\uff1a\n\n```sh\nadb shell input swipe 300 1000 300 500\n```\n\n\u53c2\u6570 `300 1000 300 500` \u5206\u522b\u8868\u793a`\u8d77\u59cb\u70b9x\u5750\u6807 \u8d77\u59cb\u70b9y\u5750\u6807 \u7ed3\u675f\u70b9x\u5750\u6807 \u7ed3\u675f\u70b9y\u5750\u6807`\u3002\n\n### \u8f93\u5165\u6587\u672c\n\n\u5728\u7126\u70b9\u5904\u4e8e\u67d0\u6587\u672c\u6846\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 `input` \u547d\u4ee4\u6765\u8f93\u5165\u6587\u672c\u3002\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell input text hello\n```\n\n\u73b0\u5728 `hello` \u51fa\u73b0\u5728\u6587\u672c\u6846\u4e86\u3002\n\n\u5982\u679c\u60f3\u8f93\u5165\u4e2d\u6587\uff0c\u53ef\u4ee5\u5728\u8bbe\u5907\u4e0a\u5b89\u88c5 [ADBKeyBoard.apk](https://github.com/senzhk/ADBKeyBoard)\uff0c\u8be6\u7ec6\u6587\u6863\u53c2\u8003 [\u8fd9\u91cc](https://github.com/senzhk/ADBKeyBoard)\u3002\n\n\u7136\u540e\u6267\u884c\u547d\u4ee4:\n\n```sh\n# 1. \u8bbe\u7f6e\u5f53\u524d\u8f93\u5165\u6cd5\u4e3a ADBKeyBoard\nadb shell ime set com.android.adbkeyboard/.AdbIME   \n\n# 2. \u8f93\u5165\u4e2d\u6587\nadb shell am broadcast -a ADB_INPUT_TEXT --es msg '\u4f60\u597d'\n```\n\n## \u67e5\u770b\u65e5\u5fd7\n\nAndroid \u7cfb\u7edf\u7684\u65e5\u5fd7\u5206\u4e3a\u4e24\u90e8\u5206\uff0c\u5e95\u5c42\u7684 Linux \u5185\u6838\u65e5\u5fd7\u8f93\u51fa\u5230 /proc/kmsg\uff0cAndroid \u7684\u65e5\u5fd7\u8f93\u51fa\u5230 /dev/log\u3002\n\n### Android \u65e5\u5fd7\n\n\u547d\u4ee4\u683c\u5f0f\uff1a\n\n```sh\n[adb] logcat [<option>] ... [<filter-spec>] ...\n```\n\n\u5e38\u7528\u7528\u6cd5\u5217\u4e3e\u5982\u4e0b\uff1a\n\n#### \u6309\u7ea7\u522b\u8fc7\u6ee4\u65e5\u5fd7\n\nAndroid \u7684\u65e5\u5fd7\u5206\u4e3a\u5982\u4e0b\u51e0\u4e2a\u4f18\u5148\u7ea7\uff08priority\uff09\uff1a\n\n* V \u2014\u2014 Verbose\uff08\u6700\u4f4e\uff0c\u8f93\u51fa\u5f97\u6700\u591a\uff09\n* D \u2014\u2014 Debug\n* I \u2014\u2014 Info\n* W \u2014\u2014 Warning\n* E \u2014\u2014 Error\n* F \u2014\u2014 Fatal\n* S \u2014\u2014 Silent\uff08\u6700\u9ad8\uff0c\u5565\u4e5f\u4e0d\u8f93\u51fa\uff09\n\n\u6309\u67d0\u7ea7\u522b\u8fc7\u6ee4\u65e5\u5fd7\u5219\u4f1a\u5c06\u8be5\u7ea7\u522b\u53ca\u4ee5\u4e0a\u7684\u65e5\u5fd7\u8f93\u51fa\u3002\n\n\u6bd4\u5982\uff0c\u547d\u4ee4\uff1a\n\n```sh\nadb logcat *:W\n```\n\n\u4f1a\u5c06 Warning\u3001Error\u3001Fatal \u548c Silent \u65e5\u5fd7\u8f93\u51fa\u3002\n\n\uff08**\u6ce8\uff1a** \u5728 macOS \u4e0b\u9700\u8981\u7ed9 `*:W` \u8fd9\u6837\u4ee5 `*` \u4f5c\u4e3a tag \u7684\u53c2\u6570\u52a0\u53cc\u5f15\u53f7\uff0c\u5982 `adb logcat \"*:W\"`\uff0c\u4e0d\u7136\u4f1a\u62a5\u9519 `no matches found: *:W`\u3002\uff09\n\n#### \u6309 tag \u548c\u7ea7\u522b\u8fc7\u6ee4\u65e5\u5fd7\n\n`<filter-spec>` \u53ef\u4ee5\u7531\u591a\u4e2a `<tag>[:priority]` \u7ec4\u6210\u3002\n\n\u6bd4\u5982\uff0c\u547d\u4ee4\uff1a\n\n```sh\nadb logcat ActivityManager:I MyApp:D *:S\n```\n\n\u8868\u793a\u8f93\u51fa tag `ActivityManager` \u7684 Info \u4ee5\u4e0a\u7ea7\u522b\u65e5\u5fd7\uff0c\u8f93\u51fa tag `MyApp` \u7684 Debug \u4ee5\u4e0a\u7ea7\u522b\u65e5\u5fd7\uff0c\u53ca\u5176\u5b83 tag \u7684 Silent \u7ea7\u522b\u65e5\u5fd7\uff08\u5373\u5c4f\u853d\u5176\u5b83 tag \u65e5\u5fd7\uff09\u3002\n\n#### \u65e5\u5fd7\u683c\u5f0f\n\n\u53ef\u4ee5\u7528 `adb logcat -v <format>` \u9009\u9879\u6307\u5b9a\u65e5\u5fd7\u8f93\u51fa\u683c\u5f0f\u3002\n\n\u65e5\u5fd7\u652f\u6301\u6309\u4ee5\u4e0b\u51e0\u79cd `<format>`\uff1a\n\n* brief\n\n  \u9ed8\u8ba4\u683c\u5f0f\u3002\u683c\u5f0f\u4e3a\uff1a\n\n  ```sh\n  <priority>/<tag>(<pid>): <message>\n  ```\n\n  \u793a\u4f8b\uff1a\n\n  ```sh\n  D/HeadsetStateMachine( 1785): Disconnected process message: 10, size: 0\n  ```\n\n* process\n\n  \u683c\u5f0f\u4e3a\uff1a\n\n  ```sh\n  <priority>(<pid>) <message>\n  ```\n\n  \u793a\u4f8b\uff1a\n\n  ```sh\n  D( 1785) Disconnected process message: 10, size: 0  (HeadsetStateMachine)\n  ```\n\n* tag\n\n  \u683c\u5f0f\u4e3a\uff1a\n\n  ```sh\n  <priority>/<tag>: <message>\n  ```\n\n  \u793a\u4f8b\uff1a\n\n  ```sh\n  D/HeadsetStateMachine: Disconnected process message: 10, size: 0\n  ```\n\n* raw\n\n  \u683c\u5f0f\u4e3a\uff1a\n\n  ```sh\n  <message>\n  ```\n\n  \u793a\u4f8b\uff1a\n\n  ```sh\n  Disconnected process message: 10, size: 0\n  ```\n\n* time\n\n  \u683c\u5f0f\u4e3a\uff1a\n\n  ```sh\n  <datetime> <priority>/<tag>(<pid>): <message>\n  ```\n\n  \u793a\u4f8b\uff1a\n\n  ```sh\n  08-28 22:39:39.974 D/HeadsetStateMachine( 1785): Disconnected process message: 10, size: 0\n  ```\n\n* threadtime\n\n  \u683c\u5f0f\u4e3a\uff1a\n\n  ```sh\n  <datetime> <pid> <tid> <priority> <tag>: <message>\n  ```\n\n  \u793a\u4f8b\uff1a\n\n  ```sh\n  08-28 22:39:39.974  1785  1832 D HeadsetStateMachine: Disconnected process message: 10, size: 0\n  ```\n\n* long\n\n  \u683c\u5f0f\u4e3a\uff1a\n\n  ```sh\n  [ <datetime> <pid>:<tid> <priority>/<tag> ]\n  <message>\n  ```\n\n  \u793a\u4f8b\uff1a\n\n  ```sh\n  [ 08-28 22:39:39.974  1785: 1832 D/HeadsetStateMachine ]\n  Disconnected process message: 10, size: 0\n  ```\n\n\u6307\u5b9a\u683c\u5f0f\u53ef\u4e0e\u4e0a\u9762\u7684\u8fc7\u6ee4\u540c\u65f6\u4f7f\u7528\u3002\u6bd4\u5982\uff1a\n\n```sh\nadb logcat -v long ActivityManager:I *:S\n```\n\n#### \u6e05\u7a7a\u65e5\u5fd7\n\n```sh\nadb logcat -c\n```\n\n### \u5185\u6838\u65e5\u5fd7\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell dmesg\n```\n\n\u8f93\u51fa\u793a\u4f8b\uff1a\n\n```sh\n<6>[14201.684016] PM: noirq resume of devices complete after 0.982 msecs\n<6>[14201.685525] PM: early resume of devices complete after 0.838 msecs\n<6>[14201.753642] PM: resume of devices complete after 68.106 msecs\n<4>[14201.755954] Restarting tasks ... done.\n<6>[14201.771229] PM: suspend exit 2016-08-28 13:31:32.679217193 UTC\n<6>[14201.872373] PM: suspend entry 2016-08-28 13:31:32.780363596 UTC\n<6>[14201.872498] PM: Syncing filesystems ... done.\n```\n\n\u4e2d\u62ec\u53f7\u91cc\u7684 `[14201.684016]` \u4ee3\u8868\u5185\u6838\u5f00\u59cb\u542f\u52a8\u540e\u7684\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u79d2\u3002\n\n\u901a\u8fc7\u5185\u6838\u65e5\u5fd7\u6211\u4eec\u53ef\u4ee5\u505a\u4e00\u4e9b\u4e8b\u60c5\uff0c\u6bd4\u5982\u8861\u91cf\u5185\u6838\u542f\u52a8\u65f6\u95f4\uff0c\u5728\u7cfb\u7edf\u542f\u52a8\u5b8c\u6bd5\u540e\u7684\u5185\u6838\u65e5\u5fd7\u91cc\u627e\u5230 `Freeing init memory` \u90a3\u4e00\u884c\u524d\u9762\u7684\u65f6\u95f4\u5c31\u662f\u3002\n\n## \u67e5\u770b\u8bbe\u5907\u4fe1\u606f\n\n### \u578b\u53f7\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell getprop ro.product.model\n```\n\n\u8f93\u51fa\u793a\u4f8b\uff1a\n\n```sh\nNexus 5\n```\n\n### \u7535\u6c60\u72b6\u51b5\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell dumpsys battery\n```\n\n\u8f93\u5165\u793a\u4f8b\uff1a\n\n```sh\nCurrent Battery Service state:\n  AC powered: false\n  USB powered: true\n  Wireless powered: false\n  status: 2\n  health: 2\n  present: true\n  level: 44\n  scale: 100\n  voltage: 3872\n  temperature: 280\n  technology: Li-poly\n```\n\n\u5176\u4e2d `scale` \u4ee3\u8868\u6700\u5927\u7535\u91cf\uff0c`level` \u4ee3\u8868\u5f53\u524d\u7535\u91cf\u3002\u4e0a\u9762\u7684\u8f93\u51fa\u8868\u793a\u8fd8\u5269\u4e0b 44% \u7684\u7535\u91cf\u3002\n\n### \u5c4f\u5e55\u5206\u8fa8\u7387\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell wm size\n```\n\n\u8f93\u51fa\u793a\u4f8b\uff1a\n\n```sh\nPhysical size: 1080x1920\n```\n\n\u8be5\u8bbe\u5907\u5c4f\u5e55\u5206\u8fa8\u7387\u4e3a 1080px * 1920px\u3002\n\n\u5982\u679c\u4f7f\u7528\u547d\u4ee4\u4fee\u6539\u8fc7\uff0c\u90a3\u8f93\u51fa\u53ef\u80fd\u662f\uff1a\n\n```sh\nPhysical size: 1080x1920\nOverride size: 480x1024\n```\n\n\u8868\u660e\u8bbe\u5907\u7684\u5c4f\u5e55\u5206\u8fa8\u7387\u539f\u672c\u662f 1080px * 1920px\uff0c\u5f53\u524d\u88ab\u4fee\u6539\u4e3a 480px * 1024px\u3002\n\n### \u5c4f\u5e55\u5bc6\u5ea6\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell wm density\n```\n\n\u8f93\u51fa\u793a\u4f8b\uff1a\n\n```sh\nPhysical density: 420\n```\n\n\u8be5\u8bbe\u5907\u5c4f\u5e55\u5bc6\u5ea6\u4e3a 420dpi\u3002\n\n\u5982\u679c\u4f7f\u7528\u547d\u4ee4\u4fee\u6539\u8fc7\uff0c\u90a3\u8f93\u51fa\u53ef\u80fd\u662f\uff1a\n\n```sh\nPhysical density: 480\nOverride density: 160\n```\n\n\u8868\u660e\u8bbe\u5907\u7684\u5c4f\u5e55\u5bc6\u5ea6\u539f\u6765\u662f 480dpi\uff0c\u5f53\u524d\u88ab\u4fee\u6539\u4e3a 160dpi\u3002\n\n### \u663e\u793a\u5c4f\u53c2\u6570\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell dumpsys window displays\n```\n\n\u8f93\u51fa\u793a\u4f8b\uff1a\n\n```sh\nWINDOW MANAGER DISPLAY CONTENTS (dumpsys window displays)\n  Display: mDisplayId=0\n    init=1080x1920 420dpi cur=1080x1920 app=1080x1794 rng=1080x1017-1810x1731\n    deferred=false layoutNeeded=false\n```\n\n\u5176\u4e2d `mDisplayId` \u4e3a \u663e\u793a\u5c4f\u7f16\u53f7\uff0c`init` \u662f\u521d\u59cb\u5206\u8fa8\u7387\u548c\u5c4f\u5e55\u5bc6\u5ea6\uff0c`app` \u7684\u9ad8\u5ea6\u6bd4 `init` \u91cc\u7684\u8981\u5c0f\uff0c\u8868\u793a\u5c4f\u5e55\u5e95\u90e8\u6709\u865a\u62df\u6309\u952e\uff0c\u9ad8\u5ea6\u4e3a 1920 - 1794 = 126px \u5408 42dp\u3002\n\n### android\\_id\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell settings get secure android_id\n```\n\n\u8f93\u51fa\u793a\u4f8b\uff1a\n\n```sh\n51b6be48bac8c569\n```\n\n### IMEI\n\n\u5728 Android 4.4 \u53ca\u4ee5\u4e0b\u7248\u672c\u53ef\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u83b7\u53d6 IMEI\uff1a\n\n```sh\nadb\u00a0shell\u00a0dumpsys\u00a0iphonesubinfo\n```\n\n\u8f93\u51fa\u793a\u4f8b\uff1a\n\n```sh\nPhone Subscriber Info:\n  Phone Type = GSM\n  Device ID = 860955027785041\n```\n\n\u5176\u4e2d\u7684 `Device ID` \u5c31\u662f IMEI\u3002\n\n\u800c\u5728 Android 5.0 \u53ca\u4ee5\u4e0a\u7248\u672c\u91cc\u8fd9\u4e2a\u547d\u4ee4\u8f93\u51fa\u4e3a\u7a7a\uff0c\u5f97\u901a\u8fc7\u5176\u5b83\u65b9\u5f0f\u83b7\u53d6\u4e86\uff08\u9700\u8981 root \u6743\u9650\uff09\uff1a\n\n```sh\nadb shell\nsu\nservice call iphonesubinfo 1\n```\n\n\u8f93\u51fa\u793a\u4f8b\uff1a\n\n```sh\nResult: Parcel(\n  0x00000000: 00000000 0000000f 00360038 00390030 '........8.6.0.9.'\n  0x00000010: 00350035 00320030 00370037 00350038 '5.5.0.2.7.7.8.5.'\n  0x00000020: 00340030 00000031                   '0.4.1...        ')\n```\n\n\u628a\u91cc\u9762\u7684\u6709\u6548\u5185\u5bb9\u63d0\u53d6\u51fa\u6765\u5c31\u662f IMEI \u4e86\uff0c\u6bd4\u5982\u8fd9\u91cc\u7684\u662f `860955027785041`\u3002\n\n\u53c2\u8003\uff1a[adb shell dumpsys iphonesubinfo not working since Android 5.0 Lollipop](http://stackoverflow.com/questions/27002663/adb-shell-dumpsys-iphonesubinfo-not-working-since-android-5-0-lollipop)\n\n### Android \u7cfb\u7edf\u7248\u672c\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell getprop ro.build.version.release\n```\n\n\u8f93\u51fa\u793a\u4f8b\uff1a\n\n```sh\n5.0.2\n```\n\n### IP \u5730\u5740\n\n\u6bcf\u6b21\u60f3\u77e5\u9053\u8bbe\u5907\u7684 IP \u5730\u5740\u7684\u65f6\u5019\u90fd\u5f97\u300c\u8bbe\u7f6e\u300d-\u300c\u5173\u4e8e\u624b\u673a\u300d-\u300c\u72b6\u6001\u4fe1\u606f\u300d-\u300cIP\u5730\u5740\u300d\u5f88\u70e6\u5bf9\u4e0d\u5bf9\uff1f\u901a\u8fc7 adb \u53ef\u4ee5\u65b9\u4fbf\u5730\u67e5\u770b\u3002\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell ifconfig | grep Mask\n```\n\n\u8f93\u51fa\u793a\u4f8b\uff1a\n\n```sh\ninet addr:10.130.245.230  Mask:255.255.255.252\ninet addr:127.0.0.1  Mask:255.0.0.0\n```\n\n\u90a3\u4e48 `10.130.245.230` \u5c31\u662f\u8bbe\u5907 IP \u5730\u5740\u3002\n\n\u5728\u6709\u7684\u8bbe\u5907\u4e0a\u8fd9\u4e2a\u547d\u4ee4\u6ca1\u6709\u8f93\u51fa\uff0c\u5982\u679c\u8bbe\u5907\u8fde\u7740 WiFi\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u6765\u67e5\u770b\u5c40\u57df\u7f51 IP\uff1a\n\n```sh\nadb shell ifconfig wlan0\n```\n\n\u8f93\u51fa\u793a\u4f8b\uff1a\n\n```sh\nwlan0: ip 10.129.160.99 mask 255.255.240.0 flags [up broadcast running multicast]\n```\n\n\u6216\n\n```sh\nwlan0     Link encap:UNSPEC\n          inet addr:10.129.168.57  Bcast:10.129.175.255  Mask:255.255.240.0\n          inet6 addr: fe80::66cc:2eff:fe68:b6b6/64 Scope: Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:496520 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:68215 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:3000\n          RX bytes:116266821 TX bytes:8311736\n```\n\n\u5982\u679c\u4ee5\u4e0a\u547d\u4ee4\u4ecd\u7136\u4e0d\u80fd\u5f97\u5230\u671f\u671b\u7684\u4fe1\u606f\uff0c\u90a3\u53ef\u4ee5\u8bd5\u8bd5\u4ee5\u4e0b\u547d\u4ee4\uff08\u90e8\u5206\u7cfb\u7edf\u7248\u672c\u91cc\u53ef\u7528\uff09\uff1a\n\n```sh\nadb shell netcfg\n```\n\n\u8f93\u51fa\u793a\u4f8b\uff1a\n\n```sh\nwlan0    UP                               10.129.160.99/20  0x00001043 f8:a9:d0:17:42:4d\nlo       UP                                   127.0.0.1/8   0x00000049 00:00:00:00:00:00\np2p0     UP                                     0.0.0.0/0   0x00001003 fa:a9:d0:17:42:4d\nsit0     DOWN                                   0.0.0.0/0   0x00000080 00:00:00:00:00:00\nrmnet0   DOWN                                   0.0.0.0/0   0x00000000 00:00:00:00:00:00\nrmnet1   DOWN                                   0.0.0.0/0   0x00000000 00:00:00:00:00:00\nrmnet3   DOWN                                   0.0.0.0/0   0x00000000 00:00:00:00:00:00\nrmnet2   DOWN                                   0.0.0.0/0   0x00000000 00:00:00:00:00:00\nrmnet4   DOWN                                   0.0.0.0/0   0x00000000 00:00:00:00:00:00\nrmnet6   DOWN                                   0.0.0.0/0   0x00000000 00:00:00:00:00:00\nrmnet5   DOWN                                   0.0.0.0/0   0x00000000 00:00:00:00:00:00\nrmnet7   DOWN                                   0.0.0.0/0   0x00000000 00:00:00:00:00:00\nrev_rmnet3 DOWN                                   0.0.0.0/0   0x00001002 4e:b7:e4:2e:17:58\nrev_rmnet2 DOWN                                   0.0.0.0/0   0x00001002 4e:f0:c8:bf:7a:cf\nrev_rmnet4 DOWN                                   0.0.0.0/0   0x00001002 a6:c0:3b:6b:c4:1f\nrev_rmnet6 DOWN                                   0.0.0.0/0   0x00001002 66:bb:5d:64:2e:e9\nrev_rmnet5 DOWN                                   0.0.0.0/0   0x00001002 0e:1b:eb:b9:23:a0\nrev_rmnet7 DOWN                                   0.0.0.0/0   0x00001002 7a:d9:f6:81:40:5a\nrev_rmnet8 DOWN                                   0.0.0.0/0   0x00001002 4e:e2:a9:bb:d0:1b\nrev_rmnet0 DOWN                                   0.0.0.0/0   0x00001002 fe:65:d0:ca:82:a9\nrev_rmnet1 DOWN                                   0.0.0.0/0   0x00001002 da:d8:e8:4f:2e:fe\n```\n\n\u53ef\u4ee5\u770b\u5230\u7f51\u7edc\u8fde\u63a5\u540d\u79f0\u3001\u542f\u7528\u72b6\u6001\u3001IP \u5730\u5740\u548c Mac \u5730\u5740\u7b49\u4fe1\u606f\u3002\n\n### Mac \u5730\u5740\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell cat /sys/class/net/wlan0/address\n```\n\n\u8f93\u51fa\u793a\u4f8b\uff1a\n\n```sh\nf8:a9:d0:17:42:4d\n```\n\n\u8fd9\u67e5\u770b\u7684\u662f\u5c40\u57df\u7f51 Mac \u5730\u5740\uff0c\u79fb\u52a8\u7f51\u7edc\u6216\u5176\u5b83\u8fde\u63a5\u7684\u4fe1\u606f\u53ef\u4ee5\u901a\u8fc7\u524d\u9762\u7684\u5c0f\u8282\u300cIP \u5730\u5740\u300d\u91cc\u63d0\u5230\u7684 `adb shell netcfg` \u547d\u4ee4\u6765\u67e5\u770b\u3002\n\n### CPU \u4fe1\u606f\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell cat /proc/cpuinfo\n```\n\n\u8f93\u51fa\u793a\u4f8b\uff1a\n\n```sh\nProcessor       : ARMv7 Processor rev 0 (v7l)\nprocessor       : 0\nBogoMIPS        : 38.40\n\nprocessor       : 1\nBogoMIPS        : 38.40\n\nprocessor       : 2\nBogoMIPS        : 38.40\n\nprocessor       : 3\nBogoMIPS        : 38.40\n\nFeatures        : swp half thumb fastmult vfp edsp neon vfpv3 tls vfpv4 idiva idivt\nCPU implementer : 0x51\nCPU architecture: 7\nCPU variant     : 0x2\nCPU part        : 0x06f\nCPU revision    : 0\n\nHardware        : Qualcomm MSM 8974 HAMMERHEAD (Flattened Device Tree)\nRevision        : 000b\nSerial          : 0000000000000000\n```\n\n\u8fd9\u662f Nexus 5 \u7684 CPU \u4fe1\u606f\uff0c\u6211\u4eec\u4ece\u8f93\u51fa\u91cc\u53ef\u4ee5\u770b\u5230\u4f7f\u7528\u7684\u786c\u4ef6\u662f `Qualcomm MSM 8974`\uff0cprocessor \u7684\u7f16\u53f7\u662f 0 \u5230 3\uff0c\u6240\u4ee5\u5b83\u662f\u56db\u6838\u7684\uff0c\u91c7\u7528\u7684\u67b6\u6784\u662f `ARMv7 Processor rev 0 (v71)`\u3002\n\n### \u5185\u5b58\u4fe1\u606f\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell cat /proc/meminfo\n```\n\n\u8f93\u51fa\u793a\u4f8b\uff1a\n\n```sh\nMemTotal:        1027424 kB\nMemFree:          486564 kB\nBuffers:           15224 kB\nCached:            72464 kB\nSwapCached:        24152 kB\nActive:           110572 kB\nInactive:         259060 kB\nActive(anon):      79176 kB\nInactive(anon):   207736 kB\nActive(file):      31396 kB\nInactive(file):    51324 kB\nUnevictable:        3948 kB\nMlocked:               0 kB\nHighTotal:        409600 kB\nHighFree:         132612 kB\nLowTotal:         617824 kB\nLowFree:          353952 kB\nSwapTotal:        262140 kB\nSwapFree:         207572 kB\nDirty:                 0 kB\nWriteback:             0 kB\nAnonPages:        265324 kB\nMapped:            47072 kB\nShmem:              1020 kB\nSlab:              57372 kB\nSReclaimable:       7692 kB\nSUnreclaim:        49680 kB\nKernelStack:        4512 kB\nPageTables:         5912 kB\nNFS_Unstable:          0 kB\nBounce:                0 kB\nWritebackTmp:          0 kB\nCommitLimit:      775852 kB\nCommitted_AS:   13520632 kB\nVmallocTotal:     385024 kB\nVmallocUsed:       61004 kB\nVmallocChunk:     209668 kB\n```\n\n\u5176\u4e2d\uff0c`MemTotal` \u5c31\u662f\u8bbe\u5907\u7684\u603b\u5185\u5b58\uff0c`MemFree` \u662f\u5f53\u524d\u7a7a\u95f2\u5185\u5b58\u3002\n\n### \u66f4\u591a\u786c\u4ef6\u4e0e\u7cfb\u7edf\u5c5e\u6027\n\n\u8bbe\u5907\u7684\u66f4\u591a\u786c\u4ef6\u4e0e\u7cfb\u7edf\u5c5e\u6027\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u67e5\u770b\uff1a\n\n```sh\nadb shell cat /system/build.prop\n```\n\n\u8fd9\u4f1a\u8f93\u51fa\u5f88\u591a\u4fe1\u606f\uff0c\u5305\u62ec\u524d\u9762\u51e0\u4e2a\u5c0f\u8282\u63d0\u5230\u7684\u300c\u578b\u53f7\u300d\u548c\u300cAndroid \u7cfb\u7edf\u7248\u672c\u300d\u7b49\u3002\n\n\u8f93\u51fa\u91cc\u8fd8\u5305\u62ec\u4e00\u4e9b\u5176\u5b83\u6709\u7528\u7684\u4fe1\u606f\uff0c\u5b83\u4eec\u4e5f\u53ef\u901a\u8fc7 `adb shell getprop <\u5c5e\u6027\u540d>` \u547d\u4ee4\u5355\u72ec\u67e5\u770b\uff0c\u5217\u4e3e\u4e00\u90e8\u5206\u5c5e\u6027\u5982\u4e0b\uff1a\n\n| \u5c5e\u6027\u540d                          | \u542b\u4e49                          |\n|---------------------------------|-------------------------------|\n| ro.build.version.sdk            | SDK \u7248\u672c                      |\n| ro.build.version.release        | Android \u7cfb\u7edf\u7248\u672c              |\n| ro.build.version.security_patch | Android \u5b89\u5168\u8865\u4e01\u7a0b\u5e8f\u7ea7\u522b      |\n| ro.product.model                | \u578b\u53f7                          |\n| ro.product.brand                | \u54c1\u724c                          |\n| ro.product.name                 | \u8bbe\u5907\u540d                        |\n| ro.product.board                | \u5904\u7406\u5668\u578b\u53f7                    |\n| ro.product.cpu.abilist          | CPU \u652f\u6301\u7684 abi \u5217\u8868[*\u8282\u6ce8\u4e00*] |\n| persist.sys.isUsbOtgEnabled     | \u662f\u5426\u652f\u6301 OTG                  |\n| dalvik.vm.heapsize              | \u6bcf\u4e2a\u5e94\u7528\u7a0b\u5e8f\u7684\u5185\u5b58\u4e0a\u9650        |\n| ro.sf.lcd_density               | \u5c4f\u5e55\u5bc6\u5ea6                      |\n\n*\u8282\u6ce8\u4e00\uff1a*\n\n\u4e00\u4e9b\u5c0f\u5382\u5b9a\u5236\u7684 ROM \u53ef\u80fd\u4fee\u6539\u8fc7 CPU \u652f\u6301\u7684 abi \u5217\u8868\u7684\u5c5e\u6027\u540d\uff0c\u5982\u679c\u7528 `ro.product.cpu.abilist` \u5c5e\u6027\u540d\u67e5\u627e\u4e0d\u5230\uff0c\u53ef\u4ee5\u8fd9\u6837\u8bd5\u8bd5\uff1a\n\n```sh\nadb shell cat /system/build.prop | grep ro.product.cpu.abi\n```\n\n\u793a\u4f8b\u8f93\u51fa\uff1a\n\n```sh\nro.product.cpu.abi=armeabi-v7a\nro.product.cpu.abi2=armeabi\n```\n\n## \u4fee\u6539\u8bbe\u7f6e\n\n**\u6ce8\uff1a** \u4fee\u6539\u8bbe\u7f6e\u4e4b\u540e\uff0c\u8fd0\u884c\u6062\u590d\u547d\u4ee4\u6709\u53ef\u80fd\u663e\u793a\u4ecd\u7136\u4e0d\u592a\u6b63\u5e38\uff0c\u53ef\u4ee5\u8fd0\u884c `adb reboot` \u91cd\u542f\u8bbe\u5907\uff0c\u6216\u624b\u52a8\u91cd\u542f\u3002\n\n\u4fee\u6539\u8bbe\u7f6e\u7684\u539f\u7406\u4e3b\u8981\u662f\u901a\u8fc7 settings \u547d\u4ee4\u4fee\u6539 /data/data/com.android.providers.settings/databases/settings.db \u91cc\u5b58\u653e\u7684\u8bbe\u7f6e\u503c\u3002\n\n### \u5206\u8fa8\u7387\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell wm size 480x1024\n```\n\n\u8868\u793a\u5c06\u5206\u8fa8\u7387\u4fee\u6539\u4e3a 480px * 1024px\u3002\n\n\u6062\u590d\u539f\u5206\u8fa8\u7387\u547d\u4ee4\uff1a\n\n```sh\nadb shell wm size reset\n```\n\n### \u5c4f\u5e55\u5bc6\u5ea6\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell wm density 160\n```\n\n\u8868\u793a\u5c06\u5c4f\u5e55\u5bc6\u5ea6\u4fee\u6539\u4e3a 160dpi\u3002\n\n\u6062\u590d\u539f\u5c4f\u5e55\u5bc6\u5ea6\u547d\u4ee4\uff1a\n\n```sh\nadb shell wm density reset\n```\n\n### \u663e\u793a\u533a\u57df\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell wm overscan 0,0,0,200\n```\n\n\u56db\u4e2a\u6570\u5b57\u5206\u522b\u8868\u793a\u8ddd\u79bb\u5de6\u3001\u4e0a\u3001\u53f3\u3001\u4e0b\u8fb9\u7f18\u7684\u7559\u767d\u50cf\u7d20\uff0c\u4ee5\u4e0a\u547d\u4ee4\u8868\u793a\u5c06\u5c4f\u5e55\u5e95\u90e8 200px \u7559\u767d\u3002\n\n\u6062\u590d\u539f\u663e\u793a\u533a\u57df\u547d\u4ee4\uff1a\n\n```sh\nadb shell wm overscan reset\n```\n\n### \u5173\u95ed USB \u8c03\u8bd5\u6a21\u5f0f\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell settings put global adb_enabled 0\n```\n\n\u6062\u590d\uff1a\n\n\u7528\u547d\u4ee4\u6062\u590d\u4e0d\u4e86\u4e86\uff0c\u6bd5\u7adf\u5173\u95ed\u4e86 USB \u8c03\u8bd5 adb \u5c31\u8fde\u63a5\u4e0d\u4e0a Android \u8bbe\u5907\u4e86\u3002\n\n\u53bb\u8bbe\u5907\u4e0a\u624b\u52a8\u6062\u590d\u5427\uff1a\u300c\u8bbe\u7f6e\u300d-\u300c\u5f00\u53d1\u8005\u9009\u9879\u300d-\u300cAndroid \u8c03\u8bd5\u300d\u3002\n\n### \u5141\u8bb8/\u7981\u6b62\u8bbf\u95ee\u975e SDK API\n\n\u5141\u8bb8\u8bbf\u95ee\u975e SDK API\uff1a\n\n```sh\nadb shell settings put global hidden_api_policy_pre_p_apps 1\nadb shell settings put global hidden_api_policy_p_apps 1\n```\n\n\u7981\u6b62\u8bbf\u95ee\u975e SDK API\uff1a\n\n```sh\nadb shell settings delete global hidden_api_policy_pre_p_apps\nadb shell settings delete global hidden_api_policy_p_apps\n```\n\n\u4e0d\u9700\u8981\u8bbe\u5907\u83b7\u5f97 Root \u6743\u9650\u3002\n\n\u547d\u4ee4\u6700\u540e\u7684\u6570\u5b57\u7684\u542b\u4e49\uff1a\n\n| \u503c | \u542b\u4e49                                                                                                                      |\n|----|---------------------------------------------------------------------------------------------------------------------------|\n| 0  | \u7981\u6b62\u68c0\u6d4b\u975e SDK \u63a5\u53e3\u7684\u8c03\u7528\u3002\u8be5\u60c5\u51b5\u4e0b\uff0c\u65e5\u5fd7\u8bb0\u5f55\u529f\u80fd\u88ab\u7981\u7528\uff0c\u5e76\u4e14\u4ee4 strict mode API\uff0c\u5373 detectNonSdkApiUsage() \u65e0\u6548\u3002\u4e0d\u63a8\u8350\u3002 |\n| 1  | \u4ec5\u8b66\u544a\u2014\u2014\u5141\u8bb8\u8bbf\u95ee\u6240\u6709\u975e SDK \u63a5\u53e3\uff0c\u4f46\u4fdd\u7559\u65e5\u5fd7\u4e2d\u7684\u8b66\u544a\u4fe1\u606f\uff0c\u53ef\u7ee7\u7eed\u4f7f\u7528 strick mode API\u3002                                     |\n| 2  | \u7981\u6b62\u8c03\u7528\u6df1\u7070\u540d\u5355\u548c\u9ed1\u540d\u5355\u4e2d\u7684\u63a5\u53e3\u3002                                                                                        |\n| 3  | \u7981\u6b62\u8c03\u7528\u9ed1\u540d\u5355\u4e2d\u7684\u63a5\u53e3\uff0c\u4f46\u5141\u8bb8\u8c03\u7528\u6df1\u7070\u540d\u5355\u4e2d\u7684\u63a5\u53e3\u3002                                                                      |\n\n### \u72b6\u6001\u680f\u548c\u5bfc\u822a\u680f\u7684\u663e\u793a\u9690\u85cf\n\n\u672c\u8282\u6240\u8bf4\u7684\u76f8\u5173\u8bbe\u7f6e\u5bf9\u5e94 Cyanogenmod \u91cc\u7684\u300c\u6269\u5c55\u684c\u9762\u300d\u3002\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell settings put global policy_control <key-values>\n```\n\n`<key-values>` \u53ef\u7531\u5982\u4e0b\u51e0\u79cd\u952e\u53ca\u5176\u5bf9\u5e94\u7684\u503c\u7ec4\u6210\uff0c\u683c\u5f0f\u4e3a `<key1>=<value1>:<key2>=<value2>`\u3002\n\n| key                   | \u542b\u4e49       |\n|-----------------------|------------|\n| immersive.full        | \u540c\u65f6\u9690\u85cf   |\n| immersive.status      | \u9690\u85cf\u72b6\u6001\u680f |\n| immersive.navigation  | \u9690\u85cf\u5bfc\u822a\u680f |\n| immersive.preconfirms | ?          |\n\n\u8fd9\u4e9b\u952e\u5bf9\u5e94\u7684\u503c\u53ef\u5219\u5982\u4e0b\u503c\u7528\u9017\u53f7\u7ec4\u5408\uff1a\n\n| value          | \u542b\u4e49         |\n|----------------|--------------|\n| `apps`         | \u6240\u6709\u5e94\u7528     |\n| `*`            | \u6240\u6709\u754c\u9762     |\n| `packagename`  | \u6307\u5b9a\u5e94\u7528     |\n| `-packagename` | \u6392\u9664\u6307\u5b9a\u5e94\u7528 |\n\n\u4f8b\u5982\uff1a\n\n```sh\nadb shell settings put global policy_control immersive.full=*\n```\n\n\u8868\u793a\u8bbe\u7f6e\u5728\u6240\u6709\u754c\u9762\u4e0b\u90fd\u540c\u65f6\u9690\u85cf\u72b6\u6001\u680f\u548c\u5bfc\u822a\u680f\u3002\n\n```sh\nadb shell settings put global policy_control immersive.status=com.package1,com.package2:immersive.navigation=apps,-com.package3\n```\n\n\u8868\u793a\u8bbe\u7f6e\u5728\u5305\u540d\u4e3a `com.package1` \u548c `com.package2` \u7684\u5e94\u7528\u91cc\u9690\u85cf\u72b6\u6001\u680f\uff0c\u5728\u9664\u4e86\u5305\u540d\u4e3a `com.package3` \u7684\u6240\u6709\u5e94\u7528\u91cc\u9690\u85cf\u5bfc\u822a\u680f\u3002\n\n## \u5b9e\u7528\u529f\u80fd\n\n### \u5c4f\u5e55\u622a\u56fe\n\n\u622a\u56fe\u4fdd\u5b58\u5230\u7535\u8111\uff1a\n\n```sh\nadb exec-out screencap -p > sc.png\n```\n\n\u5982\u679c adb \u7248\u672c\u8f83\u8001\uff0c\u65e0\u6cd5\u4f7f\u7528 `exec-out` \u547d\u4ee4\uff0c\u8fd9\u65f6\u5019\u5efa\u8bae\u66f4\u65b0 adb \u7248\u672c\u3002\u65e0\u6cd5\u66f4\u65b0\u7684\u8bdd\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u9ebb\u70e6\u70b9\u7684\u529e\u6cd5\uff1a\n\n\u5148\u622a\u56fe\u4fdd\u5b58\u5230\u8bbe\u5907\u91cc\uff1a\n\n```sh\nadb shell screencap -p /sdcard/sc.png\n```\n\n\u7136\u540e\u5c06 png \u6587\u4ef6\u5bfc\u51fa\u5230\u7535\u8111\uff1a\n\n```sh\nadb pull /sdcard/sc.png\n```\n\n\u53ef\u4ee5\u4f7f\u7528 `adb shell screencap -h` \u67e5\u770b `screencap` \u547d\u4ee4\u7684\u5e2e\u52a9\u4fe1\u606f\uff0c\u4e0b\u9762\u662f\u4e24\u4e2a\u6709\u610f\u4e49\u7684\u53c2\u6570\u53ca\u542b\u4e49\uff1a\n\n| \u53c2\u6570          | \u542b\u4e49                                       |\n|---------------|--------------------------------------------|\n| -p            | \u6307\u5b9a\u4fdd\u5b58\u6587\u4ef6\u4e3a png \u683c\u5f0f                    |\n| -d display-id | \u6307\u5b9a\u622a\u56fe\u7684\u663e\u793a\u5c4f\u7f16\u53f7\uff08\u6709\u591a\u663e\u793a\u5c4f\u7684\u60c5\u51b5\u4e0b\uff09 |\n\n\u5b9e\u6d4b\u5982\u679c\u6307\u5b9a\u6587\u4ef6\u540d\u4ee5 `.png` \u7ed3\u5c3e\u65f6\u53ef\u4ee5\u7701\u7565 -p \u53c2\u6570\uff1b\u5426\u5219\u9700\u8981\u4f7f\u7528 -p \u53c2\u6570\u3002\u5982\u679c\u4e0d\u6307\u5b9a\u6587\u4ef6\u540d\uff0c\u622a\u56fe\u6587\u4ef6\u7684\u5185\u5bb9\u5c06\u76f4\u63a5\u8f93\u51fa\u5230 stdout\u3002\n\n\u53e6\u5916\u4e00\u79cd\u4e00\u884c\u547d\u4ee4\u622a\u56fe\u5e76\u4fdd\u5b58\u5230\u7535\u8111\u7684\u65b9\u6cd5\uff1a\n\n*Linux \u548c Windows*\n\n```sh\nadb shell screencap -p | sed \"s/\\r$//\" > sc.png\n```\n\n*Mac OS X*\n\n```sh\nadb shell screencap -p | gsed \"s/\\r$//\" > sc.png\n```\n\n\u8fd9\u4e2a\u65b9\u6cd5\u9700\u8981\u7528\u5230 gnu sed \u547d\u4ee4\uff0c\u5728 Linux \u4e0b\u76f4\u63a5\u5c31\u6709\uff0c\u5728 Windows \u4e0b Git \u5b89\u88c5\u76ee\u5f55\u7684 bin \u6587\u4ef6\u5939\u4e0b\u4e5f\u6709\u3002\u5982\u679c\u786e\u5b9e\u627e\u4e0d\u5230\u8be5\u547d\u4ee4\uff0c\u53ef\u4ee5\u4e0b\u8f7d [sed for Windows](http://gnuwin32.sourceforge.net/packages/sed.htm) \u5e76\u5c06 sed.exe \u6240\u5728\u6587\u4ef6\u5939\u6dfb\u52a0\u5230 PATH \u73af\u5883\u53d8\u91cf\u91cc\u3002\n\n\u800c\u5728 Mac \u4e0b\u4f7f\u7528\u7cfb\u7edf\u81ea\u5e26\u7684 sed \u547d\u4ee4\u4f1a\u62a5\u9519\uff1a\n\n```sh\nsed: RE error: illegal byte sequence\n```\n\n\u9700\u8981\u5b89\u88c5 gnu-sed\uff0c\u7136\u540e\u4f7f\u7528 gsed \u547d\u4ee4\uff1a\n\n```sh\nbrew install gnu-sed\n```\n\n### \u5f55\u5236\u5c4f\u5e55\n\n\u5f55\u5236\u5c4f\u5e55\u4ee5 mp4 \u683c\u5f0f\u4fdd\u5b58\u5230 /sdcard\uff1a\n\n```sh\nadb shell screenrecord /sdcard/filename.mp4\n```\n\n\u9700\u8981\u505c\u6b62\u65f6\u6309 <kbd>Ctrl-C</kbd>\uff0c\u9ed8\u8ba4\u5f55\u5236\u65f6\u95f4\u548c\u6700\u957f\u5f55\u5236\u65f6\u95f4\u90fd\u662f 180 \u79d2\u3002\n\n\u5982\u679c\u9700\u8981\u5bfc\u51fa\u5230\u7535\u8111\uff1a\n\n```sh\nadb pull /sdcard/filename.mp4\n```\n\n\u53ef\u4ee5\u4f7f\u7528 `adb shell screenrecord --help` \u67e5\u770b `screenrecord` \u547d\u4ee4\u7684\u5e2e\u52a9\u4fe1\u606f\uff0c\u4e0b\u9762\u662f\u5e38\u89c1\u53c2\u6570\u53ca\u542b\u4e49\uff1a\n\n| \u53c2\u6570                | \u542b\u4e49                                            |\n|---------------------|-------------------------------------------------|\n| --size WIDTHxHEIGHT | \u89c6\u9891\u7684\u5c3a\u5bf8\uff0c\u6bd4\u5982 `1280x720`\uff0c\u9ed8\u8ba4\u662f\u5c4f\u5e55\u5206\u8fa8\u7387\u3002 |\n| --bit-rate RATE     | \u89c6\u9891\u7684\u6bd4\u7279\u7387\uff0c\u9ed8\u8ba4\u662f 4Mbps\u3002                    |\n| --time-limit TIME   | \u5f55\u5236\u65f6\u957f\uff0c\u5355\u4f4d\u79d2\u3002                              |\n| --verbose           | \u8f93\u51fa\u66f4\u591a\u4fe1\u606f\u3002                                  |\n\n### \u91cd\u65b0\u6302\u8f7d system \u5206\u533a\u4e3a\u53ef\u5199\n\n**\u6ce8\uff1a\u9700\u8981 root \u6743\u9650\u3002**\n\n/system \u5206\u533a\u9ed8\u8ba4\u6302\u8f7d\u4e3a\u53ea\u8bfb\uff0c\u4f46\u6709\u4e9b\u64cd\u4f5c\u6bd4\u5982\u7ed9 Android \u7cfb\u7edf\u6dfb\u52a0\u547d\u4ee4\u3001\u5220\u9664\u81ea\u5e26\u5e94\u7528\u7b49\u9700\u8981\u5bf9 /system \u8fdb\u884c\u5199\u64cd\u4f5c\uff0c\u6240\u4ee5\u9700\u8981\u91cd\u65b0\u6302\u8f7d\u5b83\u4e3a\u53ef\u8bfb\u5199\u3002\n\n\u6b65\u9aa4\uff1a\n\n1. \u8fdb\u5165 shell \u5e76\u5207\u6362\u5230 root \u7528\u6237\u6743\u9650\u3002\n\n   \u547d\u4ee4\uff1a\n\n   ```sh\n   adb shell\n   su\n   ```\n\n2. \u67e5\u770b\u5f53\u524d\u5206\u533a\u6302\u8f7d\u60c5\u51b5\u3002\n\n   \u547d\u4ee4\uff1a\n\n   ```sh\n   mount\n   ```\n\n   \u8f93\u51fa\u793a\u4f8b\uff1a\n\n   ```sh\n   rootfs / rootfs ro,relatime 0 0\n   tmpfs /dev tmpfs rw,seclabel,nosuid,relatime,mode=755 0 0\n   devpts /dev/pts devpts rw,seclabel,relatime,mode=600 0 0\n   proc /proc proc rw,relatime 0 0\n   sysfs /sys sysfs rw,seclabel,relatime 0 0\n   selinuxfs /sys/fs/selinux selinuxfs rw,relatime 0 0\n   debugfs /sys/kernel/debug debugfs rw,relatime 0 0\n   none /var tmpfs rw,seclabel,relatime,mode=770,gid=1000 0 0\n   none /acct cgroup rw,relatime,cpuacct 0 0\n   none /sys/fs/cgroup tmpfs rw,seclabel,relatime,mode=750,gid=1000 0 0\n   none /sys/fs/cgroup/memory cgroup rw,relatime,memory 0 0\n   tmpfs /mnt/asec tmpfs rw,seclabel,relatime,mode=755,gid=1000 0 0\n   tmpfs /mnt/obb tmpfs rw,seclabel,relatime,mode=755,gid=1000 0 0\n   none /dev/memcg cgroup rw,relatime,memory 0 0\n   none /dev/cpuctl cgroup rw,relatime,cpu 0 0\n   none /sys/fs/cgroup tmpfs rw,seclabel,relatime,mode=750,gid=1000 0 0\n   none /sys/fs/cgroup/memory cgroup rw,relatime,memory 0 0\n   none /sys/fs/cgroup/freezer cgroup rw,relatime,freezer 0 0\n   /dev/block/platform/msm_sdcc.1/by-name/system /system ext4 ro,seclabel,relatime,data=ordered 0 0\n   /dev/block/platform/msm_sdcc.1/by-name/userdata /data ext4 rw,seclabel,nosuid,nodev,relatime,noauto_da_alloc,data=ordered 0 0\n   /dev/block/platform/msm_sdcc.1/by-name/cache /cache ext4 rw,seclabel,nosuid,nodev,relatime,data=ordered 0 0\n   /dev/block/platform/msm_sdcc.1/by-name/persist /persist ext4 rw,seclabel,nosuid,nodev,relatime,data=ordered 0 0\n   /dev/block/platform/msm_sdcc.1/by-name/modem /firmware vfat ro,context=u:object_r:firmware_file:s0,relatime,uid=1000,gid=1000,fmask=0337,dmask=0227,codepage=cp437,iocharset=iso8859-1,shortname=lower,errors=remount-ro 0 0\n   /dev/fuse /mnt/shell/emulated fuse rw,nosuid,nodev,relatime,user_id=1023,group_id=1023,default_permissions,allow_other 0 0\n   /dev/fuse /mnt/shell/emulated/0 fuse rw,nosuid,nodev,relatime,user_id=1023,group_id=1023,default_permissions,allow_other 0 0\n   ```\n\n   \u627e\u5230\u5176\u4e2d\u6211\u4eec\u5173\u6ce8\u7684\u5e26 /system \u7684\u90a3\u4e00\u884c\uff1a\n\n   ```sh\n   /dev/block/platform/msm_sdcc.1/by-name/system /system ext4 ro,seclabel,relatime,data=ordered 0 0\n   ```\n\n3. \u91cd\u65b0\u6302\u8f7d\u3002\n\n   \u547d\u4ee4\uff1a\n\n   ```sh\n   mount -o remount,rw -t yaffs2 /dev/block/platform/msm_sdcc.1/by-name/system /system\n   ```\n\n   \u8fd9\u91cc\u7684 `/dev/block/platform/msm_sdcc.1/by-name/system` \u5c31\u662f\u6211\u4eec\u4ece\u4e0a\u4e00\u6b65\u7684\u8f93\u51fa\u91cc\u5f97\u5230\u7684\u6587\u4ef6\u8def\u5f84\u3002\n\n\u5982\u679c\u8f93\u51fa\u6ca1\u6709\u63d0\u793a\u9519\u8bef\u7684\u8bdd\uff0c\u64cd\u4f5c\u5c31\u6210\u529f\u4e86\uff0c\u53ef\u4ee5\u5bf9 /system \u4e0b\u7684\u6587\u4ef6\u4e3a\u6240\u6b32\u4e3a\u4e86\u3002\n\n### \u67e5\u770b\u8fde\u63a5\u8fc7\u7684 WiFi \u5bc6\u7801\n\n**\u6ce8\uff1a\u9700\u8981 root \u6743\u9650\u3002**\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell\nsu\ncat /data/misc/wifi/*.conf\n```\n\n\u8f93\u51fa\u793a\u4f8b\uff1a\n\n```sh\nnetwork={\n\tssid=\"TP-LINK_9DFC\"\n\tscan_ssid=1\n\tpsk=\"123456789\"\n\tkey_mgmt=WPA-PSK\n\tgroup=CCMP TKIP\n\tauth_alg=OPEN\n\tsim_num=1\n\tpriority=13893\n}\n\nnetwork={\n\tssid=\"TP-LINK_F11E\"\n\tpsk=\"987654321\"\n\tkey_mgmt=WPA-PSK\n\tsim_num=1\n\tpriority=17293\n}\n```\n\n`ssid` \u5373\u4e3a\u6211\u4eec\u5728 WLAN \u8bbe\u7f6e\u91cc\u770b\u5230\u7684\u540d\u79f0\uff0c`psk` \u4e3a\u5bc6\u7801\uff0c`key_mgmt` \u4e3a\u5b89\u5168\u52a0\u5bc6\u65b9\u5f0f\u3002\n\n\u5982\u679c Android O \u6216\u4ee5\u540e\uff0cWiFi \u5bc6\u7801\u4fdd\u5b58\u7684\u5730\u5740\u6709\u53d8\u5316\uff0c\u662f\u5728 `WifiConfigStore.xml` \u91cc\u9762\n\n```sh\nadb shell\nsu\ncat /data/misc/wifi/WifiConfigStore.xml\n```\n\n\u8f93\u51fa\u683c\u5f0f\uff1a\n\n\u6570\u636e\u9879\u8f83\u591a\uff0c\u53ea\u9700\u5173\u6ce8 `ConfigKey`\uff08WiFi \u540d\u5b57\uff09\u548c `PreSharedKey`\uff08WiFi \u5bc6\u7801\uff09\u5373\u53ef\n\n```xml\n<string name=\"ConfigKey\">&quot;Wi-Fi&quot;WPA_PSK</string>\n<string name=\"PreSharedKey\">&quot;931907334&quot;</string>\n```\n\n### \u8bbe\u7f6e\u7cfb\u7edf\u65e5\u671f\u548c\u65f6\u95f4\n\n**\u6ce8\uff1a\u9700\u8981 root \u6743\u9650\u3002**\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell\nsu\ndate -s 20160823.131500\n```\n\n\u8868\u793a\u5c06\u7cfb\u7edf\u65e5\u671f\u548c\u65f6\u95f4\u66f4\u6539\u4e3a 2016 \u5e74 08 \u6708 23 \u65e5 13 \u70b9 15 \u5206 00 \u79d2\u3002\n\n### \u91cd\u542f\u624b\u673a\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb reboot\n```\n\n### \u68c0\u6d4b\u8bbe\u5907\u662f\u5426\u5df2 root\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell\nsu\n```\n\n\u6b64\u65f6\u547d\u4ee4\u884c\u63d0\u793a\u7b26\u662f `$` \u5219\u8868\u793a\u6ca1\u6709 root \u6743\u9650\uff0c\u662f `#` \u5219\u8868\u793a\u5df2 root\u3002\n\n### \u4f7f\u7528 Monkey \u8fdb\u884c\u538b\u529b\u6d4b\u8bd5\n\nMonkey \u53ef\u4ee5\u751f\u6210\u4f2a\u968f\u673a\u7528\u6237\u4e8b\u4ef6\u6765\u6a21\u62df\u5355\u51fb\u3001\u89e6\u6478\u3001\u624b\u52bf\u7b49\u64cd\u4f5c\uff0c\u53ef\u4ee5\u5bf9\u6b63\u5728\u5f00\u53d1\u4e2d\u7684\u7a0b\u5e8f\u8fdb\u884c\u968f\u673a\u538b\u529b\u6d4b\u8bd5\u3002\n\n\u7b80\u5355\u7528\u6cd5\uff1a\n\n```sh\nadb shell monkey -p <packagename> -v 500\n```\n\n\u8868\u793a\u5411 `<packagename>` \u6307\u5b9a\u7684\u5e94\u7528\u7a0b\u5e8f\u53d1\u9001 500 \u4e2a\u4f2a\u968f\u673a\u4e8b\u4ef6\u3002\n\nMonkey \u7684\u8be6\u7ec6\u7528\u6cd5\u53c2\u8003 [\u5b98\u65b9\u6587\u6863](https://developer.android.com/studio/test/monkey.html)\u3002\n\n### \u5f00\u542f/\u5173\u95ed WiFi\n\n**\u6ce8\uff1a\u9700\u8981 root \u6743\u9650\u3002**\n\n\u6709\u65f6\u9700\u8981\u63a7\u5236\u8bbe\u5907\u7684 WiFi \u72b6\u6001\uff0c\u53ef\u4ee5\u7528\u4ee5\u4e0b\u6307\u4ee4\u5b8c\u6210\u3002\n\n\u5f00\u542f WiFi\uff1a\n\n```sh\nadb root\nadb shell svc wifi enable\n```\n\n\u5173\u95ed WiFi\uff1a\n\n```sh\nadb root\nadb shell svc wifi disable\n```\n\n\u82e5\u6267\u884c\u6210\u529f\uff0c\u8f93\u51fa\u4e3a\u7a7a\uff1b\u82e5\u672a\u53d6\u5f97 root \u6743\u9650\u6267\u884c\u6b64\u547d\u4ee4\uff0c\u5c06\u6267\u884c\u5931\u8d25\uff0c\u8f93\u51fa `Killed`\u3002\n\n## \u5237\u673a\u76f8\u5173\u547d\u4ee4\n\n### \u91cd\u542f\u5230 Recovery \u6a21\u5f0f\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb reboot recovery\n```\n\n### \u4ece Recovery \u91cd\u542f\u5230 Android\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb reboot\n```\n\n### \u91cd\u542f\u5230 Fastboot \u6a21\u5f0f\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb reboot bootloader\n```\n\n### \u901a\u8fc7 sideload \u66f4\u65b0\u7cfb\u7edf\n\n\u5982\u679c\u6211\u4eec\u4e0b\u8f7d\u4e86 Android \u8bbe\u5907\u5bf9\u5e94\u7684\u7cfb\u7edf\u66f4\u65b0\u5305\u5230\u7535\u8111\u4e0a\uff0c\u90a3\u4e48\u4e5f\u53ef\u4ee5\u901a\u8fc7 adb \u6765\u5b8c\u6210\u66f4\u65b0\u3002\n\n\u4ee5 Recovery \u6a21\u5f0f\u4e0b\u66f4\u65b0\u4e3a\u4f8b\uff1a\n\n1. \u91cd\u542f\u5230 Recovery \u6a21\u5f0f\u3002\n\n   \u547d\u4ee4\uff1a\n\n   ```sh\n   adb reboot recovery\n   ```\n\n2. \u5728\u8bbe\u5907\u7684 Recovery \u754c\u9762\u4e0a\u64cd\u4f5c\u8fdb\u5165 `Apply update`-`Apply from ADB`\u3002\n\n   \u6ce8\uff1a\u4e0d\u540c\u7684 Recovery \u83dc\u5355\u53ef\u80fd\u4e0e\u6b64\u6709\u5dee\u5f02\uff0c\u6709\u7684\u662f\u4e00\u7ea7\u83dc\u5355\u5c31\u6709 `Apply update from ADB`\u3002\n\n3. \u901a\u8fc7 adb \u4e0a\u4f20\u548c\u66f4\u65b0\u7cfb\u7edf\u3002\n\n   \u547d\u4ee4\uff1a\n\n   ```sh\n   adb sideload <path-to-update.zip>\n   ```\n\n## \u5b89\u5168\u76f8\u5173\u547d\u4ee4\n\n### \u542f\u7528/\u7981\u7528 SELinux\n\n\u542f\u7528 SELinux\n\n```sh\nadb root\nadb shell setenforce 1\n```\n\n\u7981\u7528 SELinux\n\n```sh\nadb root\nadb shell setenforce 0\n```\n\n### \u542f\u7528/\u7981\u7528 dm_verity\n\n\u542f\u7528 dm_verity\n\n```sh\nadb root\nadb enable-verity\n```\n\n\u7981\u7528 dm_verity\n\n```sh\nadb root\nadb disable-verity\n```\n\n## \u66f4\u591a adb shell \u547d\u4ee4\n\nAndroid \u7cfb\u7edf\u662f\u57fa\u4e8e Linux \u5185\u6838\u7684\uff0c\u6240\u4ee5 Linux \u91cc\u7684\u5f88\u591a\u547d\u4ee4\u5728 Android \u91cc\u4e5f\u6709\u76f8\u540c\u6216\u7c7b\u4f3c\u7684\u5b9e\u73b0\uff0c\u5728 `adb shell` \u91cc\u53ef\u4ee5\u8c03\u7528\u3002\u672c\u6587\u6863\u524d\u9762\u7684\u90e8\u5206\u5185\u5bb9\u5df2\u7ecf\u7528\u5230\u4e86 `adb shell` \u547d\u4ee4\u3002\n\n### \u67e5\u770b\u8fdb\u7a0b\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell ps\n```\n\n\u8f93\u51fa\u793a\u4f8b\uff1a\n\n```sh\nUSER     PID   PPID  VSIZE  RSS     WCHAN    PC        NAME\nroot      1     0     8904   788   ffffffff 00000000 S /init\nroot      2     0     0      0     ffffffff 00000000 S kthreadd\n...\nu0_a71    7779  5926  1538748 48896 ffffffff 00000000 S com.sohu.inputmethod.sogou:classic\nu0_a58    7963  5926  1561916 59568 ffffffff 00000000 S org.mazhuang.boottimemeasure\n...\nshell     8750  217   10640  740   00000000 b6f28340 R ps\n```\n\n\u5404\u5217\u542b\u4e49\uff1a\n\n| \u5217\u540d | \u542b\u4e49      |\n|------|-----------|\n| USER | \u6240\u5c5e\u7528\u6237  |\n| PID  | \u8fdb\u7a0b ID   |\n| PPID | \u7236\u8fdb\u7a0b ID |\n| NAME | \u8fdb\u7a0b\u540d    |\n\n### \u67e5\u770b\u5b9e\u65f6\u8d44\u6e90\u5360\u7528\u60c5\u51b5\n\n\u547d\u4ee4\uff1a\n\n```sh\nadb shell top\n```\n\n\u8f93\u51fa\u793a\u4f8b\uff1a\n\n```sh\nUser 0%, System 6%, IOW 0%, IRQ 0%\nUser 3 + Nice 0 + Sys 21 + Idle 280 + IOW 0 + IRQ 0 + SIRQ 3 = 307\n\n  PID PR CPU% S  #THR     VSS     RSS PCY UID      Name\n 8763  0   3% R     1  10640K   1064K  fg shell    top\n  131  0   3% S     1      0K      0K  fg root     dhd_dpc\n 6144  0   0% S   115 1682004K 115916K  fg system   system_server\n  132  0   0% S     1      0K      0K  fg root     dhd_rxf\n 1731  0   0% S     6  20288K    788K  fg root     /system/bin/mpdecision\n  217  0   0% S     6  18008K    356K  fg shell    /sbin/adbd\n ...\n 7779  2   0% S    19 1538748K  48896K  bg u0_a71   com.sohu.inputmethod.sogou:classic\n 7963  0   0% S    18 1561916K  59568K  fg u0_a58   org.mazhuang.boottimemeasure\n ...\n```\n\n\u5404\u5217\u542b\u4e49\uff1a\n\n| \u5217\u540d | \u542b\u4e49                                                       |\n|------|------------------------------------------------------------|\n| PID  | \u8fdb\u7a0b ID                                                    |\n| PR   | \u4f18\u5148\u7ea7                                                     |\n| CPU% | \u5f53\u524d\u77ac\u95f4\u5360\u7528 CPU \u767e\u5206\u6bd4                                    |\n| S    | \u8fdb\u7a0b\u72b6\u6001\uff08R=\u8fd0\u884c\uff0cS=\u7761\u7720\uff0cT=\u8ddf\u8e2a/\u505c\u6b62\uff0cZ=\u50f5\u5c38\u8fdb\u7a0b\uff09        |\n| #THR | \u7ebf\u7a0b\u6570                                                     |\n| VSS  | Virtual Set Size \u865a\u62df\u8017\u7528\u5185\u5b58\uff08\u5305\u542b\u5171\u4eab\u5e93\u5360\u7528\u7684\u5185\u5b58\uff09      |\n| RSS  | Resident Set Size \u5b9e\u9645\u4f7f\u7528\u7269\u7406\u5185\u5b58\uff08\u5305\u542b\u5171\u4eab\u5e93\u5360\u7528\u7684\u5185\u5b58\uff09 |\n| PCY  | \u8c03\u5ea6\u7b56\u7565\u4f18\u5148\u7ea7\uff0cSP_BACKGROUND/SPFOREGROUND                 |\n| UID  | \u8fdb\u7a0b\u6240\u6709\u8005\u7684\u7528\u6237 ID                                        |\n| NAME | \u8fdb\u7a0b\u540d                                                     |\n\n`top` \u547d\u4ee4\u8fd8\u652f\u6301\u4e00\u4e9b\u547d\u4ee4\u884c\u53c2\u6570\uff0c\u8be6\u7ec6\u7528\u6cd5\u5982\u4e0b\uff1a\n\n```sh\nUsage: top [ -m max_procs ] [ -n iterations ] [ -d delay ] [ -s sort_column ] [ -t ] [ -h ]\n    -m num  \u6700\u591a\u663e\u793a\u591a\u5c11\u4e2a\u8fdb\u7a0b\n    -n num  \u5237\u65b0\u591a\u5c11\u6b21\u540e\u9000\u51fa\n    -d num  \u5237\u65b0\u65f6\u95f4\u95f4\u9694\uff08\u5355\u4f4d\u79d2\uff0c\u9ed8\u8ba4\u503c 5\uff09\n    -s col  \u6309\u67d0\u5217\u6392\u5e8f\uff08\u53ef\u7528 col \u503c\uff1acpu, vss, rss, thr\uff09\n    -t      \u663e\u793a\u7ebf\u7a0b\u4fe1\u606f\n    -h      \u663e\u793a\u5e2e\u52a9\u6587\u6863\n```\n\n### \u67e5\u770b\u8fdb\u7a0b UID\n\n\u6709\u4e24\u79cd\u65b9\u6848\uff1a\n\n1. `adb shell dumpsys package <packagename> | grep userId=`\n\n   \u5982\uff1a\n\n   ```sh\n   $ adb shell dumpsys package org.mazhuang.guanggoo | grep userId=\n      userId=10394\n   ```\n\n2. \u901a\u8fc7 ps \u547d\u4ee4\u627e\u5230\u5bf9\u5e94\u8fdb\u7a0b\u7684 pid \u4e4b\u540e `adb shell cat /proc/<pid>/status | grep Uid`\n\n   \u5982\uff1a\n\n   ```sh\n   $ adb shell\n   gemini:/ $ ps | grep org.mazhuang.guanggoo\n   u0_a394   28635 770   1795812 78736 SyS_epoll_ 0000000000 S org.mazhuang.guanggoo\n   gemini:/ $ cat /proc/28635/status | grep Uid\n   Uid:    10394   10394   10394   10394\n   gemini:/ $\n   ```\n\n### \u5176\u5b83\n\n\u5982\u4e0b\u662f\u5176\u5b83\u5e38\u7528\u547d\u4ee4\u7684\u7b80\u5355\u63cf\u8ff0\uff0c\u524d\u6587\u5df2\u7ecf\u4e13\u95e8\u8bb2\u8fc7\u7684\u547d\u4ee4\u4e0d\u518d\u989d\u5916\u8bf4\u660e\uff1a\n\n| \u547d\u4ee4  | \u529f\u80fd                        |\n|-------|-----------------------------|\n| cat   | \u663e\u793a\u6587\u4ef6\u5185\u5bb9                |\n| cd    | \u5207\u6362\u76ee\u5f55                    |\n| chmod | \u6539\u53d8\u6587\u4ef6\u7684\u5b58\u53d6\u6a21\u5f0f/\u8bbf\u95ee\u6743\u9650 |\n| df    | \u67e5\u770b\u78c1\u76d8\u7a7a\u95f4\u4f7f\u7528\u60c5\u51b5        |\n| grep  | \u8fc7\u6ee4\u8f93\u51fa                    |\n| kill  | \u6740\u6b7b\u6307\u5b9a PID \u7684\u8fdb\u7a0b         |\n| ls    | \u5217\u4e3e\u76ee\u5f55\u5185\u5bb9                |\n| mount | \u6302\u8f7d\u76ee\u5f55\u7684\u67e5\u770b\u548c\u7ba1\u7406        |\n| mv    | \u79fb\u52a8\u6216\u91cd\u547d\u540d\u6587\u4ef6            |\n| ps    | \u67e5\u770b\u6b63\u5728\u8fd0\u884c\u7684\u8fdb\u7a0b          |\n| rm    | \u5220\u9664\u6587\u4ef6                    |\n| top   | \u67e5\u770b\u8fdb\u7a0b\u7684\u8d44\u6e90\u5360\u7528\u60c5\u51b5      |\n\n## \u5e38\u89c1\u95ee\u9898\n\n### \u542f\u52a8 adb server \u5931\u8d25\n\n**\u51fa\u9519\u63d0\u793a**\n\n```sh\nerror: protocol fault (couldn't read status): No error\n```\n\n**\u53ef\u80fd\u539f\u56e0**\n\nadb server \u8fdb\u7a0b\u60f3\u4f7f\u7528\u7684 5037 \u7aef\u53e3\u88ab\u5360\u7528\u3002\n\n**\u89e3\u51b3\u65b9\u6848**\n\n\u627e\u5230\u5360\u7528 5037 \u7aef\u53e3\u7684\u8fdb\u7a0b\uff0c\u7136\u540e\u7ec8\u6b62\u5b83\u3002\u4ee5 Windows \u4e0b\u4e3a\u4f8b\uff1a\n\n```sh\nnetstat -ano | findstr LISTENING\n\n...\nTCP    0.0.0.0:5037           0.0.0.0:0              LISTENING       1548\n...\n```\n\n\u8fd9\u91cc 1548 \u5373\u4e3a\u8fdb\u7a0b ID\uff0c\u7528\u547d\u4ee4\u7ed3\u675f\u8be5\u8fdb\u7a0b\uff1a\n\n```sh\ntaskkill /PID 1548\n```\n\n\u7136\u540e\u518d\u542f\u52a8 adb \u5c31\u6ca1\u95ee\u9898\u4e86\u3002\n\n### com.android.ddmlib.AdbCommandRejectedException\n\n\u5728 Android Studio \u91cc\u65b0\u5efa\u4e00\u4e2a\u6a21\u62df\u5668\uff0c\u4f46\u662f\u7528 adb \u4e00\u76f4\u8fde\u63a5\u4e0d\u4e0a\uff0c\u63d0\u793a\uff1a\n\n```\ncom.android.ddmlib.AdbCommandRejectedException: device unauthorized.\nThis adb server's $ADB_VENDOR_KEYS is not set\nTry 'adb kill-server' if that seems wrong.\nOtherwise check for a confirmation dialog on your device.\n```\n\n\u5728\u624b\u673a\u4e0a\u5b89\u88c5\u4e00\u4e2a\u7ec8\u7aef\u7136\u540e\u6267\u884c su \u63d0\u793a\u6ca1\u6709\u8be5\u547d\u4ee4\uff0c\u8fd9\u4e0d\u6b63\u5e38\u3002\n\n\u4e8e\u662f\u5220\u9664\u8be5\u6a21\u62df\u5668\u540e\u91cd\u65b0\u4e0b\u8f7d\u5b89\u88c5\u4e00\u6b21\uff0c\u8fd9\u6b21\u5c31\u6b63\u5e38\u4e86\u3002\n\n## adb \u7684\u975e\u5b98\u65b9\u5b9e\u73b0\n\n* [fb-adb](https://github.com/facebook/fb-adb) - A better shell for Android devices (for Mac).\n\n## \u76f8\u5173\u547d\u4ee4\n\n* [aapt](./related/aapt.md)\n* [am](./related/am.md)\n* [dumpsys](./related/dumpsys.md)\n* [pm](./related/pm.md)\n* [uiautomator](./related/uiautomator.md)\n\n## \u81f4\u8c22\n\n\u611f\u8c22\u670b\u53cb\u4eec\u65e0\u79c1\u7684\u5206\u4eab\u4e0e\u8865\u5145\uff08\u6392\u540d\u4e0d\u5206\u5148\u540e\uff09\u3002\n\n[zxning](https://github.com/zxning)\uff0c[linhua55](https://github.com/linhua55)\uff0c[codeskyblue](https://github.com/codeskyblue)\uff0c[seasonyuu](https://github.com/seasonyuu)\uff0c[fan123199](https://github.com/fan123199)\uff0c[zhEdward](https://github.com/zhEdward)\uff0c[0x8BADFOOD](https://github.com/0x8BADFOOD)\uff0c[keith666666](https://github.com/keith666666)\uff0c[shawnlinboy](https://github.com/shawnlinboy)\uff0c[s-xq](https://github.com/s-xq)\uff0c\n[lucky9322](https://github.com/lucky9322)\u3002\n\n## \u53c2\u8003\u94fe\u63a5\n\n* [Android Debug Bridge](https://developer.android.com/studio/command-line/adb.html)\n* [ADB Shell Commands](https://developer.android.com/studio/command-line/shell.html)\n* [logcat Command-line Tool](https://developer.android.com/studio/command-line/logcat.html)\n* [Android ADB\u547d\u4ee4\u5927\u5168](http://zmywly8866.github.io/2015/01/24/all-adb-command.html)\n* [adb \u547d\u4ee4\u884c\u7684\u4f7f\u7528\u8bb0\u5f55](https://github.com/ZQiang94/StudyRecords/blob/master/other/src/main/java/com/other/adb%20%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9A%84%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95.md)\n* [Android ADB\u547d\u4ee4\u5927\u5168(\u901a\u8fc7ADB\u547d\u4ee4\u67e5\u770bwifi\u5bc6\u7801\u3001MAC\u5730\u5740\u3001\u8bbe\u5907\u4fe1\u606f\u3001\u64cd\u4f5c\u6587\u4ef6\u3001\u67e5\u770b\u6587\u4ef6\u3001\u65e5\u5fd7\u4fe1\u606f\u3001\u5378\u8f7d\u3001\u542f\u52a8\u548c\u5b89\u88c5APK\u7b49)](http://www.jianshu.com/p/860bc2bf1a6a)\n* [\u90a3\u4e9b\u505aAndroid\u5f00\u53d1\u5fc5\u987b\u77e5\u9053\u7684ADB\u547d\u4ee4](http://yifeiyuan.me/2016/06/30/ADB%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86/)\n* [adb shell top](http://blog.csdn.net/kittyboy0001/article/details/38562515)\n* [\u50cf\u9ad8\u624b\u4e00\u6837\u4f7f\u7528ADB\u547d\u4ee4\u884c\uff082\uff09](http://cabins.github.io/2016/03/25/UseAdbLikeAPro-2/)\n\n[1]: #ip-\u5730\u5740\n",
        "releases": []
    }
}